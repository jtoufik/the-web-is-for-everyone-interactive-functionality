(function(b,a){"function"===typeof define&&define.amd?define(function(){return a(b)}):"function"===typeof module&&module.exports?module.exports=a(b):a(b)})(this,function(b){function a(b){var a=this.prototype[b];this.prototype[b]=function(){var b;var c=0;for(b=arguments.length;c<b;c+=1){var d=arguments[c];a.call(this,d)}}}function c(b){var a=Array.prototype;if(a.indexOf)return a.indexOf.call(this,b);for(a=this.length-1;-1<a;){if(this[a]===b)return a;--a}return-1}function d(){var b=this.classes,a=b.join(" ");
this.isSVG?this.setAttribute("class",a):this.element.className=a;this.list.length=b.length}function e(b){return-1!==c.call(n[this.id].classes,b)}function f(){for(var b=0,a=n[this.id],e=a.classes,h=arguments.length,f,l=!1;b<h;)f=arguments[b],-1===c.call(e,f)&&(e.push(f),l=!0),b+=1;l&&d.call(a)}function g(b){return n[this.id].classes[b]||null}function k(){for(var b=arguments.length-1,a=n[this.id],e=a.classes,h,f=!1;-1<b;)h=arguments[b],h=c.call(e,h),-1!==h&&(e.splice(h,1),f=!0),--b;f&&d.call(a)}function h(){var b=
n[this.id];d.call(b);return b.element.className}function l(b,a){var d=-1!==c.call(n[this.id].classes,b),e;d?!0!==a&&(e="remove"):!1!==a&&(e="add");if(e)this[e](b);return!0===a||!1===a?a:!d}function m(b){var a;if((a=b.domTokenListId)&&a in n)return n[a].list;var c="object"===typeof b.className;var d=b.className;d=String(c?d.baseVal:d).replace(/^\s+|\s+$/,"");a=p+=1;n[a]={classes:0!==d.length?d.split(/\s+/):[],element:b,list:this,isSVG:c};this.id=a;this.length=n[a].classes.length;b.domTokenListId=a}
if(b.Element){var p=0,n={},q=b.document.createElement("_");"classList"in q?(q.classList.add("c1","c2"),q.classList.contains("c2")||(a.call(b.DOMTokenList,"add"),a.call(b.DOMTokenList,"remove")),q.classList.toggle("c3",!1),q.classList.contains("c3")&&(b.DOMTokenList.prototype.toggle=function(){var a=b.DOMTokenList.prototype.toggle;return function(b,c){var d=!c;return 1<arguments.length&&this.contains(b)!==d?c:a.call(this,b)}}()),q=null):function(){var a,c=b.Element.prototype,d=[f,e,g,k,h,l],p="add contains item remove toString toggle".split(" "),
q=m.prototype;for(a=p.length-1;-1<a;)q[p[a]]=d[a],--a;a={get:function(){var a=this.domTokenListId;return a&&a in n?n[a].list:new m(this)},configurable:!0,enumerable:!0};if(Object.defineProperty)try{Object.defineProperty(c,"classList",a)}catch(r){-2146823252===r.number&&(a.enumerable=!1,Object.defineProperty(c,"classList",a))}else Object.prototype.__defineGetter__&&c.__defineGetter__("classList",a);b.DOMTokenList=m}()}});
(function(b){"function"!==typeof b.matches&&(b.matches=b.msMatchesSelector||b.mozMatchesSelector||b.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=0;a[b]&&a[b]!==this;)++b;return!!a[b]});"function"!==typeof b.closest&&(b.closest=function(a){for(var b=this;b&&1===b.nodeType;){if(b.matches(a))return b;b=b.parentNode}return null})})(window.Element.prototype);
(function(){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(b,a){a=a||window;for(var c=0;c<this.length;c++)b.call(a,this[c],c,this)})})();var bw=function(b){return b.bw?b.bw:b.bw={version:"@VERSION",debug:!1,widgetSpecificJs:"bw.bnl.",MOBILEWIDTH:634}}(window);document.addEventListener("DOMContentLoaded",function(){bw.ui.initialize()});
(function(b){function a(b){b=parseFloat(b||0);return isNaN(b)?0:b}function c(b,a){var c="none"===window.getComputedStyle(b).display,d=null;c&&(d=b.getAttribute("style"),b.style.display="block");a=a();c&&(d?b.setAttribute("style",d):b.removeAttribute("style"));return a}function d(b,d){return c(b,function(){return a(b["offset"+d]||window.getComputedStyle(b)[d.toLowerCase()])})}function e(b,d){return c(b,function(){return a(window.getComputedStyle(b)[d.toLowerCase()])})}function f(b,d,e,f){return c(b,
function(){var c=a(b["offset"+d]);if(f)for(var h=window.getComputedStyle(b),l=0;l<e.length;l++)c+=a(h["margin"+e[l]]);return c})}function g(b,d,e,f){return c(b,function(){var c=window.getComputedStyle(b),h=a(c[d.toLowerCase()]);if(f)for(var l=0;l<e.length;l++)h+=a(c["margin"+e[l]]);return h})}var k=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];b.util={};(function(){var a=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;b.util.Class=function(){};b.util.Class.extend=
function(c){var d=this.prototype,e=Object.create(d),h;for(h in c)e[h]="function"===typeof c[h]&&"function"===typeof d[h]&&a.test(c[h])?function(b,a){return function(){var c=this._super;this._super=d[b];var e=a.apply(this,arguments);this._super=c;return e}}(h,c[h]):c[h];c="function"===typeof e.init?e.hasOwnProperty("init")?e.init:function(){d.init.apply(this,arguments)}:function(){};c.prototype=e;e.constructor=c;c.extend=b.util.Class.extend;return c}})();b.util.getWindowWidth=function(){return document.documentElement.clientWidth};
b.util.getWindowHeight=function(){return document.documentElement.clientHeight};b.util.escapeHTML=function(b){return(""+b).replace(/&/g,"\x26amp;").replace(/>/g,"\x26gt;").replace(/</g,"\x26lt;").replace(/"/g,"\x26quot;")};b.util.replaceOrAddToQueryString=function(b,a,c){b+="";return b=-1!==b.indexOf(a+"\x3d")?b.replace(new RegExp(a+"\x3d[^\x26]+"),a+"\x3d"+c):b+((""===b?"?":"\x26")+a+"\x3d"+c)};b.util.removeFromQueryString=function(b,a){return b.replace(new RegExp("(.*?)[?\x26]?"+a+"\x3d[\\w\\d]+\x26?(.*)",
"ig"),function(b,a,c){return"string"===typeof c?"string"===typeof a?a+(0>a.indexOf("?")?"?":"\x26")+c:"?"+c:a})};b.util.isPropertySupported=function(b){return b in document.body.style};b.util.canPlay=function(b,a){return b.canPlayType&&!!b.canPlayType(a+";").replace(/no/,"")};b.util.error=function(a){if(b.debug)throw Error(a);};b.util.encodedCookie=function(a,c,d){if(void 0!==c)c=encodeURIComponent(c),b.util.rawCookie(a,c,d);else if(a=b.util.rawCookie(a))return decodeURIComponent(a)};b.util.rawCookie=
function(a,c,d){d=d||{};d.secure=void 0===d.secure?"https:"===window.location.protocol:!!d.secure;d.sameSite=d.sameSite||"Lax";d.path=d.path||"/";if(a&&-1!==a.toString().indexOf(";")||c&&-1!==c.toString().indexOf(";")||d.path&&-1!==d.path.toString().indexOf(";")||d.domain&&-1!==d.domain.toString().indexOf(";"))b.util.error("Cookie value contains ;");else if(void 0!==c){var e="; path\x3d"+d.path,h="",f="";d.date&&(h=new Date,d.date.call(null,h),h="; expires\x3d"+h.toUTCString());d.domain&&(f="; domain\x3d"+
d.domain);document.cookie=a+"\x3d"+c+h+f+e+"; SameSite\x3d"+d.sameSite+(d.secure?"; Secure":"")}else for(c=document.cookie.split(";"),d=0;d<c.length;d++)if(e=b.util.trim(c[d]),e.substr(0,a.length+1)===a+"\x3d")return cookie=e.substr(a.length+1,e.length)};b.util.cookieExists=function(b){return 0<document.cookie.split(";").filter(function(a){return 0===a.trim().indexOf(b+"\x3d")}).length};b.util.cookieExistsWithValue=function(b,a){return 0<document.cookie.split(";").filter(function(c){return 0===c.trim().indexOf(b+
"\x3d"+a)}).length};b.util.removeCookie=function(a,c,d){b.util.cookieExists(a)&&b.util.rawCookie(a,"",{date:function(b){b.setFullYear(b.getFullYear()-1)},path:c,domain:d})};b.util.isString=function(b){return void 0!==b?"[object String]"===Object.prototype.toString.call(b):!1};b.util.trim=function(a){return b.util.isString(a)?a.trim():a};b.util.copy=function(a,c,d){a=a||{};if(c)for(var e in c)c.hasOwnProperty(e)&&(a[e]=d&&"object"===typeof c[e]?b.util.copy(a[e],c[e]):c[e]);return a};b.util.matches=
function(b,a){return(b.matches||b.matchesSelector||b.msMatchesSelector||b.mozMatchesSelector||b.webkitMatchesSelector||b.oMatchesSelector).call(b,a)};b.util.isVisible=function(b){return!!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)};b.util.children=function(a,c){var d=[];a=a.children;for(var e=0;e<a.length;e++){var h=a[e];c&&!b.util.matches(h,c)||d.push(h)}return d};b.util.firstChild=function(a,c){a=a.children;for(var d=0;d<a.length;d++){var e=a[d];if(!c||b.util.matches(e,c))return e}return null};
b.util.removeChildren=function(a,c){a=a.children;for(var d=a.length;-1<--d;){var e=a[d];c&&!b.util.matches(e,c)||b.util.removeElement(e)}};b.util.index=function(a,c){c||(c=a,a=a.parentElement);a=a.children;for(var d=0;d<a.length;d++){var e=a[d];if("string"===typeof c){if(b.util.matches(e,c))return d}else if(e===c)return d}return-1};b.util.previousSiblings=function(a,c){var d=[];for(a=a.previousElementSibling;a;a=a.previousElementSibling)c&&!b.util.matches(a,c)||d.push(a);return d};b.util.nextSiblings=
function(a,c){var d=[];for(a=a.nextElementSibling;a;a=a.nextElementSibling)c&&!b.util.matches(a,c)||d.push(a);return d};b.util.siblings=function(a,c){for(var d=[],e=a.parentNode.firstElementChild;e;e=e.nextElementSibling)e===a||c&&!b.util.matches(e,c)||d.push(e);return d};b.util.firstSibling=function(a,c){for(var d=a.parentNode.firstElementChild;d;d=d.nextElementSibling)if(d!==a&&(!c||b.util.matches(d,c)))return d;return null};b.util.addClass=function(a,c){b.util.removeClass(a,c);a.className=0<a.className.length?
a.className+(" "+c):a.className+c};b.util.removeClass=function(a,b){b.split(/[ ,]/).forEach(function(b){a.classList.remove(b)})};b.util.hasClass=function(a,b){return a.classList.contains(b)};b.util.insertBefore=function(a,b){b instanceof Element?a.parentElement.insertBefore(b,a):a.insertAdjacentHTML("beforebegin",b)};b.util.insertAfter=function(a,b){b instanceof Element?a.parentElement.insertBefore(b,a.nextElementSibling):a.insertAdjacentHTML("afterend",b)};b.util.insertIntoAsFirst=function(a,b){b instanceof
Element?0===a.children.length?a.appendChild(b):a.insertBefore(b,a.children[0]):a.insertAdjacentHTML("afterbegin",b)};b.util.insertIntoAsLast=function(a,b){b instanceof Element?a.appendChild(b):a.insertAdjacentHTML("beforeend",b)};b.util.removeElement=function(a){a&&a.parentElement&&a.parentElement.removeChild(a)};b.util.removeElements=function(a){for(var c=a.length;-1<--c;)b.util.removeElement(a[c])};b.util.createElement=function(a){var b=document.createElement("create");b.innerHTML=a;return b.children[0]};
b.util.filter=function(a,c){for(var d=a.length,e=[];0<d--;){var f=a[d];b.util.matches(f,c)&&e.unshift(f)}return e};b.util.collectionQuerySelector=function(a,b){for(var c=a.length,d=[];0<c--;)for(var e=a[c].querySelectorAll(b),f=e.length;0<f--;)d.unshift(e[f]);return d};b.util.parent=function(a,c){for(;a.parentElement;)if(a=a.parentElement,b.util.matches(a,c))return a;return null};b.util.parents=function(a,c){for(var d=[];a.parentElement;)a=a.parentElement,c&&!b.util.matches(a,c)||d.push(a);return d};
b.util.next=function(a,c){for(var d=a.nextElementSibling;d;){if(!c||b.util.matches(d,c))return d;d=a.nextElementSibling}return null};b.util.on=function(a,b,c,d){a.addEventListener(b,function(a){for(var b=a.target;b&&b!==this;)b.matches(c)&&d.call(b,a),b=b.parentNode})};b.util.dispatchEvent=function(a,b){if("function"===typeof Event)var c=new Event(b);else c=document.createEvent("Event"),c.initEvent(b,!0,!0);a.dispatchEvent(c)};b.util.setTimeout=function(a,c,d){if(isNaN(parseFloat(c)))setTimeout(c,
a);else{var e="i"+a;if(a=b.util.setTimeout.timeOuts[e])clearTimeout(a),delete b.util.setTimeout.timeOuts[e];b.util.setTimeout.timeOuts[e]=setTimeout(function(){delete b.util.setTimeout.timeOuts[e];d()},c)}};b.util.setTimeout.timeOuts={};b.util.getWidth=function(a){return d(a,"Width")};b.util.getHeight=function(a){return d(a,"Height")};b.util.getOuterWidth=function(a,b){return f(a,"Width",["Left","Right"],b)};b.util.getOuterHeight=function(a,b){return f(a,"Height",["Top","Bottom"],b)};b.util.getExactWidth=
function(a){return e(a,"Width")};b.util.getExactHeight=function(a){return e(a,"Height")};b.util.getExactOuterWidth=function(a,b){return g(a,"Width",["Left","Right"],b)};b.util.getExactOuterHeight=function(a,b){return g(a,"Height",["Top","Bottom"],b)};b.util.animateStyle=function(a,c,d,e,f){function h(){k.forEach(function(b){a.removeEventListener(b,h)});a.style.transition=p;f&&f(a)}var g={},l=c,m=d;!b.util.isString(d)&&isNaN(d)?(g=c,l=d,m=e):f=e;b.util.isString(m)||(m=m/1E3+"s");var p=a.style.transition||
null;k.forEach(function(b){a.addEventListener(b,h)});for(var n in g)g.hasOwnProperty(n)&&(a.style[n]=g[n]);c=[];for(var r in l)l.hasOwnProperty(r)&&c.push(r+" "+m);a.style.transition=(p?p+", ":"")+c.join(", ");b.util.forceReflow(a);for(var t in l)a.style[t]=l[t]};b.util.slideOut=function(a,c){a.style.display="block";var d=getComputedStyle(a),e=d.height,f=d.paddingTop,h=d.paddingBottom,g=d.marginTop;d=d.marginBottom;a.style.height="0px";a.style.paddingTop="0px";a.style.paddingBottom="0px";a.style.marginTop=
"0px";a.style.marginBottom="0px";a.style.overflow="hidden";b.util.animateStyle(a,{height:e,"padding-top":f,"padding-bottom":h,"margin-top":g,"margin-bottom":d,"transition-timing-function":"ease-in"},400,c)};b.util.slideIn=function(a,c,d){"function"===typeof c&&(d=c,c=!1);a.style.display="block";a.style.height=a.offsetHeight+"px";a.style.overflow="hidden";b.util.animateStyle(a,{height:0,"padding-top":0,"padding-bottom":0,"margin-top":0,"margin-bottom":0,"transition-timing-function":"ease-in"},c?0:
400,function(){a.style.display="none";a.removeAttribute("style");d&&d.call(a)})};b.util.easeInBack=function(a,c,d,e){c["transition-timing-function"]="cubic-bezier(0.600, 0, 0.735, 0.045)";b.util.animateStyle(a,c,d,e)};b.util.easeOutBack=function(a,c,d,e){c["transition-timing-function"]="cubic-bezier(0.175, 0.885, 0.320, 1.275)";b.util.animateStyle(a,c,d,e)};b.util.fadeOut=function(a,c,d){b.util.fadeTo(a,0,c,d)};b.util.fadeTo=function(a,c,d,e){b.util.animateStyle(a,{opacity:c},d,e)};b.util.fadeIn=
function(a,c,d){b.util.fadeTo(a,1,c,d)};b.util.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=b&&!d;clearTimeout(d);d=setTimeout(function(){d=null;b||c.apply(e,f)},a);g&&c.apply(e,f)}};b.util.forceReflow=function(a){return a.offsetHeight}})(bw);
(function(b,a){b.util.ajax=function(a,b,e,f){var c=a.method||"GET",d=a.url||a;a=a.timeout||0;var h=new XMLHttpRequest;h.onload=function(){b&&b(h)};h.onprogress=function(){};h.onerror=function(){e&&e(h)};h.ontimeout=function(){var a=f||e;a&&a(h)};h.open(c,d);h.timeout=a;h.send()};b.util.getJSON=function(a,d,e,f){b.util.ajax(a,function(a){try{d&&d(JSON.parse(a.responseText))}catch(k){e(a)}},e,f)};b.util.loadScript=function(b,d,e){var c=a.createElement("script");c.type="text/javascript";c.src=b;c.async=
!0;c.onload=d;c.onerror=e;a.head.appendChild(c).parentElement.removeChild(c)}})(bw,document);
(function(b,a){a.ui={};a.ui.form={};a.ui.form.dropdown={};a.bnl={};a.ui.initialize=function(b){a.ui.renderInteractive(b);a.ui.expandableHoverClick(b);a.ui.activateComponents(b);a.ui.couldBeExpandable()&&a.ui.expandableClick(b)};a.ui.couldBeExpandable=function(){return a.util.getWindowWidth()<=a.MOBILEWIDTH||a.util.getWindowHeight()<=a.MOBILEWIDTH};a.ui.activateComponents=function(c){var d=new RegExp("^"+a.widgetSpecificJs);a.ui.queuedWidgets=[];var e=(c||b.body).querySelectorAll("[data-component]");
c&&c.hasAttribute("data-component")&&(e=[].slice.call(e),e.unshift(c));c=0;for(var f=e.length;c<f;c++)for(var g=e[c],k=g.getAttribute("data-component").split(" "),h=0;h<k.length;h++)d.test(k[h])?a.ui.queueWidget(g,k[h]):a.ui.initializeComponent(g,k[h]);a.ui.initializeWidgets();a.ui.queuedWidgets=[]};a.ui.initializeComponent=function(a,b){var c,d=window;for(c=b.split(".");d=d[c.shift()];)d&&d.prototype&&d.prototype.init&&(a._bw=a._bw||[],a._bw[b.replace(/\./g,"_")]=new d(a))};a.ui.queueWidget=function(b,
d){a.ui.queuedWidgets[this.queuedWidgets.length]={viewNode:b,widget:d}};a.ui.initializeWidgets=function(){for(var b=0,d=a.ui.queuedWidgets.length;b<d;b++)a.ui.initializeComponent(a.ui.queuedWidgets[b].viewNode,a.ui.queuedWidgets[b].widget)}})(window.document,bw);
(function(b){b.ui.renderInteractive=function(a){(a||document.body).querySelectorAll(".static").forEach(function(a){b.util.hasClass(a,"static")&&(b.util.removeClass(a,"static"),b.util.hasClass(a,"interactive")?b.util.removeClass(a,"interactive"):b.util.addClass(a,"interactive"))})};b.ui.expandableHoverClick=function(a){var c=null;(a||document.body).querySelectorAll(".hoverexpandable .switch").forEach(function(a){a.addEventListener("touchstart",function(a){function d(){k.removeEventListener("mouseover",
d);b.util.removeClass(k,"touchstart")}var e=document.body.querySelectorAll(".touchstart"),k=a.target.parentElement;c!==a.target&&e.forEach(function(a){b.util.removeClass(a,"touchstart");a.removeEventListener("mouseover",d)});b.util.addClass(k,"touchstart");k.addEventListener("mouseover",d);c=a.target}.bind(this))}.bind(this));(a||document.body).querySelectorAll(".hoverexpandable .switch").forEach(function(a){function d(d){var e=b.util.parent(a,".hoverexpandable"),f=document.querySelectorAll("body \x3e div");
if("touchend"===d.type&&d.target===c){if(b.util.hasClass(d.target.parentElement,"focus")){setTimeout(b.util.removeClass(d.target.parentElement,"focus"),0);d.stopPropagation();d.preventDefault();d.target.blur();return}d.target.focus()}b.util.hasClass(e,"focus")||(document.body.querySelectorAll(".hoverexpandable.focus").forEach(function(a){b.util.removeClass(a,"focus")}),f.forEach(function(a){function c(d){for(var f=!1,g=!1,h=d.target,k=h.parentElement;k;){if(k===e){b.util.matches(h,".switch")||b.util.matches(h.parentElement,
".switch")?(d.preventDefault(),g=!0):f=!0;break}k=k.parentElement}if(!f||g)b.util.removeClass(e,"focus"),a.removeEventListener("click",c),a.removeEventListener("touchend",c)}a.removeEventListener("touchend",c);a.removeEventListener("click",c);b.util.addClass(e,"focus");d.stopPropagation();d.preventDefault();a.addEventListener("click",c);a.addEventListener("touchend",c)}))}a.addEventListener("click",d);a.addEventListener("touchend",d)})};b.ui.expandableClick=function(a){(a||document.body).querySelectorAll(".expandable.biebwidget h2").forEach(function(a){a.addEventListener("click",
function(a){a.preventDefault();a=a.target.parentElement;b.util.hasClass(a,"open")?b.util.removeClass(a,"open"):b.util.addClass(a,"open")})})}})(bw);
(function(b){b.ui.tabs2=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){var a=b.util.children(this.element,"li");if(1<a.length&&!b.util.previousSiblings(this.element,".tabs").length){this.content=a;for(a=this.currentTab=0;a<this.content.length;a++){this.tabs||(b.util.insertBefore(this.element,'\x3cul class\x3d"plain tabs interactive"\x3e\x3c/ul\x3e'),this.tabs=b.util.previousSiblings(this.element,".tabs")[0],this.element.getAttribute("data-alt")&&b.util.addClass(this.tabs,
"alt"));var c=this.content[a].getAttribute("data-title")||(this.content[a].querySelector("h2, h3")||{}).textContent||"tab "+(a+1),d=[].slice.call(this.content[a].querySelectorAll("a.button[href]")||[],-1)[0];d=d?d.getAttribute("href"):"";b.util.insertIntoAsLast(this.tabs,'\x3cli\x3e\x3ca href\x3d"'+b.util.escapeHTML(d)+'"\x3e'+b.util.escapeHTML(c)+"\x3c/a\x3e\x3c/li\x3e");b.util.hasClass(this.content[a],"current")&&(this.currentTab=a)}this.attachHandlers();this.updateState()}},attachHandlers:function(){this.tabs.addEventListener("click",
function(a){var c=b.util.matches(a.target,"li")?a.target:b.util.parent(a.target,"li");c=b.util.index(this.tabs,c);this.currentTab!==c&&(this.currentTab=c,this.updateState());a.preventDefault()}.bind(this))},updateState:function(){this.updateStateContent();this.updateStateTab()},updateStateContent:function(){var a=this.content[this.currentTab];b.util.addClass(a,"current");a=b.util.siblings(a);for(var c=0;c<a.length;c++)b.util.removeClass(a[c],"current")},updateStateTab:function(){var a=b.util.children(this.tabs)[this.currentTab];
b.util.addClass(a,"current");a=b.util.siblings(a);for(var c=0;c<a.length;c++)b.util.removeClass(a[c],"current")}})})(bw);
(function(b){b.ui.rotatingtabs=b.ui.tabs2.extend({init:function(a){this.element=a;this.setup()},setup:function(){if(1<b.util.children(this.element,"li").length&&!b.util.previousSiblings(this.element,".tabs").length){this._super();this.tabClicked=!1;this.maxHeight=0;var a=parseInt(this.element.getAttribute("data-speed"));!isNaN(a)&&a&&1<this.content.length&&b.util.getWindowWidth()>b.MOBILEWIDTH?(this.timeout=a,this.isRotating=!0):(this.timeout=0,this.isRotating=!1);this.attachHandlers()}},attachHandlers:function(){this._super();
this.isRotating&&(this.tabsEventListener=this.tabs.addEventListener("click",function(a){if("A"===a.target.tagName)for(this.tabClicked=!0,this.clearTimer(),this.tabs.removeEventListener("click",this.tabsEventListener),a=0;a<this.content.length;a++)this.content[a].style.marginBottom="",this.content[a].getAttribute("style")||this.content[a].removeAttribute("style")}.bind(this)),this.setTimer(),this.element.addEventListener("mouseenter",function(){this.clearTimer()}.bind(this)),this.element.addEventListener("mouseleave",
function(){this.tabClicked||this.setTimer()}.bind(this)))},clearTimer:function(){this.intervalId&&clearInterval(this.intervalId)},setTimer:function(){this.intervalId=setInterval(function(){this.previousTab=this.currentTab;this.currentTab=this.currentTab+1>=b.util.children(this.tabs).length?0:this.currentTab+1;this.nextItem()}.bind(this),this.timeout)},nextItem:function(){this.maxHeight=Math.max(this.maxHeight,this.content[this.previousTab].offsetHeight);b.util.fadeOut(this.content[this.previousTab],
1500,function(){this.content[this.previousTab].removeAttribute("style");this.content[this.currentTab].style.opacity=0;this.updateState();this.content[this.currentTab].offsetHeight<this.maxHeight&&(b.util.children(this.content[this.currentTab]).slice(-1)[0].style.marginBottom=20+(this.maxHeight-this.content[this.currentTab].offsetHeight));b.util.fadeTo(this.content[this.currentTab],1500,1,function(){this.content[this.currentTab].removeAttribute("style")}.bind(this))}.bind(this))}})})(bw);
(function(b){b.ui.listselection=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){var a=b.util.children(this.element,"li");if(1<a.length){this.content=a;for(var c=a=0;c<this.content.length;c++){if(!this.tabs){b.util.insertBefore(this.element,'\x3cdiv class\x3d"listselection interactive"\x3e\x3cul class\x3d"plain active"\x3e\x3c/ul\x3e\x3cdiv class\x3d"toggle active"\x3e\x3cbutton disabled\x3eexpand selection\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e');var d=b.util.previousSiblings(this.element,
".listselection")[0];this.tabs=b.util.children(d,"ul")[0];this.toggle=b.util.children(d,".toggle")[0]}d=this.content[c].getAttribute("data-title")||"list"+(c+1);b.util.insertIntoAsLast(this.tabs,"\x3cli\x3e\x3cbutton\x3e"+b.util.escapeHTML(d)+"\x3c/button\x3e\x3c/li\x3e");b.util.matches(this.content[c],".current")&&(a=c)}this.currentTab=a;this.attachHandlers();this.updateState()}},attachHandlers:function(){this.tabs.addEventListener("click",function(a){if(b.util.hasClass(this.tabs,"active")){var c=
a.target.closest("button"),d=a.target.closest("li"),e=b.util.index(this.tabs,d);d=b.util.siblings(d);for(var f=0;f<d.length;f++)(function(a){var c=a.style.overflow;a.style.overflow="hidden";b.util.animateStyle(a,{width:b.util.getWidth(a)+"px"},{width:"1px"},200,function(){b.util.removeClass(this.tabs,"active");b.util.removeClass(this.toggle,"active");a.style.width="";a.style.display="";a.style.overflow=c}.bind(this))}).call(this,d[f]);this.currentTab!==e&&(this.currentTab=e,this.updateState());this.attachBlur(c);
c=this.tabs.querySelectorAll("button");for(e=0;e<c.length;e++)c[e].setAttribute("disabled","disabled");this.toggle.querySelector("button").removeAttribute("disabled")}a.preventDefault()}.bind(this));this.toggle.querySelector("button").addEventListener("click",function(a){b.util.addClass(this.toggle,"active");for(var c=b.util.children(this.tabs,"li:not(.current)"),d=0;d<c.length;d++)(function(a){var c=a.style.overflow;a.style.overflow="hidden";var d=a.style.display;a.style.display="block";var e=b.util.getWidth(a);
a.style.display=d;b.util.animateStyle(a,{display:"block",width:"0px"},{width:e+"px"},200,function(){a.style.overflow=c;b.util.addClass(this.tabs,"active");a.removeAttribute("style")}.bind(this))}).call(this,c[d]);this.tabs.querySelectorAll("button").forEach(function(a){a.removeAttribute("disabled")});a.target.setAttribute("disabled","disabled");a.preventDefault()}.bind(this))},attachBlur:function(a){var b=window.document.addEventListener("mousemove",function(){a.blur();window.document.removeEventListener("mousemove",
b)})},updateState:function(){this.updateStateContent();this.updateStateTab()},updateStateContent:function(){var a=this.content[this.currentTab];b.util.addClass(a,"current");a=b.util.siblings(a);for(var c=0;c<a.length;c++)b.util.removeClass(a[c],"current")},updateStateTab:function(){var a=b.util.children(this.tabs);b.util.addClass(a[this.currentTab],"current");a=b.util.siblings(a[this.currentTab]);for(var c=0;c<a.length;c++)b.util.removeClass(a[c],"current")}})})(bw);
(function(b){b.ui.paginator=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){this.currentPage=1;this.prevLabel=this.element.getAttribute("data-prev")||"Vorige";this.nextLabel=this.element.getAttribute("data-next")||"Volgende";this.items=b.util.children(this.element,this.element.getAttribute("data-items"));this.itemsPerPage=3;this.numOfPages=Math.min(Math.ceil(this.items.length/this.itemsPerPage),3);1<this.numOfPages&&!b.util.nextSiblings(this.element,".pagenav").length&&
(this.hideOtherItems(),this.renderContainer(),this.renderPagination(),this.setHandlers())},rerender:function(){this.hideOtherItems();this.updatePagination()},hideOtherItems:function(){for(var a=(this.currentPage-1)*this.itemsPerPage,c=a+this.itemsPerPage,d=0;d<this.items.length;d++)(d<a||d>=c?b.util.addClass:b.util.removeClass)(this.items[d],"hidden")},renderContainer:function(){this.container=b.util.createElement('\x3cdiv class\x3d"pagenav"/\x3e');b.util.hasClass(this.element,"biebwidget-content")?
b.util.insertIntoAsLast(this.element,this.container):b.util.insertAfter(this.element,this.container)},renderPagination:function(){var a='\x3cspan class\x3d"prev'+(1>=this.currentPage?" inactive":"")+'" data-page\x3d"'+(this.currentPage-1)+'"\x3e\x3cbutton class\x3d"default"'+(1>=this.currentPage?" disabled":"")+"\x3e"+this.prevLabel+"\x3c/button\x3e\x3c/span\x3e";a+="\x3col\x3e";for(var b=1;b<=this.numOfPages;b++)a+='\x3cli data-page\x3d"'+b+'"'+(b===this.currentPage?' class\x3d"current"':"")+'\x3e\x3cbutton class\x3d"default"'+
(b===this.currentPage?" disabled":"")+"\x3e"+b+"\x3c/button\x3e\x3c/li\x3e";a=a+"\x3c/ol\x3e"+('\x3cspan class\x3d"next'+(this.currentPage>=this.numOfPages?" inactive":"")+'" data-page\x3d"'+(this.currentPage+1)+'"\x3e\x3cbutton class\x3d"default"'+(this.currentPage>=this.numOfPages?" disabled":"")+"\x3e"+this.prevLabel+"\x3c/button\x3e\x3c/span\x3e");this.container.innerHTML=a},updatePagination:function(){var a=this.container.querySelector(".prev"),c=this.container.querySelector(".next");this.updatePaginationItem(a,
this.currentPage-1,1>=this.currentPage);this.updatePaginationItem(c,this.currentPage+1,this.currentPage>=this.numOfPages);this.container.querySelectorAll("ol li.current").forEach(function(a){b.util.removeClass(a,"current");b.util.children(a,"button").forEach(function(a){a.removeAttribute("disabled")})});a=this.container.querySelectorAll("ol li")[this.currentPage-1];b.util.addClass(a,"current");b.util.children(a,"button").forEach(function(a){a.setAttribute("disabled","disabled")})},updatePaginationItem:function(a,
c,d){a.setAttribute("data-page",c);b.util.removeClass(a,"inactive");b.util.children(a,"button").forEach(function(a){a.removeAttribute("disabled")});d&&(b.util.addClass(a,"inactive"),b.util.children(a,"button").forEach(function(a){a.setAttribute("disabled","disabled")}))},setHandlers:function(){this.container.addEventListener("click",function(a){var c=a.target.closest("[data-page]");b.util.matches(c,"li[data-page]:not(.current), span[data-page]:not(.inactive)")&&(this.currentPage=parseInt(c.getAttribute("data-page")),
this.rerender(),a.preventDefault())}.bind(this))}})})(bw);
(function(b){function a(a){var d='\x3cdiv class\x3d"modalwindow-container'+(a.position?"":" bar")+'"\x3e';d+='\x3cdiv class\x3d"modalwindow '+a.classname+'"\x3e';a.title&&(d+="\x3ch2\x3e"+a.title+"\x3c/h2\x3e");null!==a.content&&(d+='\x3cdiv class\x3d"modalwindow-content '+(a.title?"":"closepadding")+'"\x3e'+a.content+"\x3c/div\x3e");a.closeable&&(d+='\x3cbutton class\x3d"close"\x3e\x3cspan\x3esluiten\x3c/span\x3e\x3c/button\x3e');var e={};e.element=b.util.createElement(d+"\x3c/div\x3e\x3c/div\x3e");
e.setSize=function(a){e.settings=Object.create(e.settings);e.settings.size=a};e.setContent=function(a){if(e&&b.util.isVisible(e.element)){var c=e.element.querySelector(".modalwindow-content");c.style.height="auto";c.innerHTML=a;f(e)}};e.open=function(){c(e)};e.close=function(){b.ui.modalwindow.close(e)};e.remove=function(){b.ui.modalwindow.remove(e)};e.hide=function(){e.element.style.display="none"};e.show=function(){e.element.style.display="block"};"float"===a.position&&(e.reposition=function(){f(e)});
a.closeable&&e.element.querySelector("button.close").addEventListener("click",e.close);e.settings=a;return e}function c(a){var c=a.settings;if(c.show_overlay&&!document.body.querySelector(".backgroundoverlay")){var d=b.util.createElement('\x3cdiv class\x3d"backgroundoverlay"\x3e\x3c/div\x3e');c.firstthing?b.util.insertIntoAsFirst(document.body.querySelector(".biebwidget-content"),d):b.util.insertIntoAsLast(c.widget,d);c.closeable&&d.addEventListener("click",function(){a.close(a)})}a.show();"float"===
c.position&&f(a);c.closeable&&(a.handleKeyUp=function(b){27===b.keyCode&&a.close(a)},document.addEventListener("keyup",a.handleKeyUp));e(a,"modalWindowOpen")}function d(a){a.hide();b.util.removeElements(document.body.querySelectorAll(".backgroundoverlay"));a.settings.closeable&&document.removeEventListener("keyup",a.handleKeyUp);if(this.h1Links&&this.h1Links.length){this.h1Links.forEach(function(a){var b=a.getAttribute("data-href");a.setAttribute("href",b);a.removeAttribute("data-href")});var c=this.h1Links[0];
c.parentElement.setAttribute("tabindex","-1");c.focus();this.h1Links=[]}e(a,"modalWindowClose")}function e(a,b){if("function"===typeof Event)var c=new Event(b);else c=document.createEvent("Event"),c.initEvent(b,!0,!0);a.element.dispatchEvent(c)}function f(a){var c=a.settings;b.util.children(a.element,".modalwindow").forEach(function(a){a=a.style;var d=c.size;b.util.isString(d)||(d="medium");a.width=g[d]+"px"});var d=a.element.querySelector(".modalwindow-content");d.style.height="auto";var e=a.element.offsetHeight,
f=d.offsetHeight,k=e-f;e<c.minheight?f=c.minheight-k:e>c.maxheight&&(f=c.maxheight-k);d.style.height=f+"px";"float"===c.position?(d=b.util.getWindowHeight()/2-e/2,a.element.style.top=0<d?d+"px":0):"fixed"===c.position&&(a.element.style.position="absolute")}b.ui.modalwindow={};b.ui.modalwindow.default_settings={classname:"",size:"medium",minheight:0,maxheight:b.util.getWindowHeight(),title:"",content:"",show_overlay:!0,closeable:!0,firstthing:!1,position:"float"};b.ui.modalwindow.prepare=function(c,
d){d=b.util.copy(Object.create(b.ui.modalwindow.default_settings),d,!1);b.util.hasClass(c,"biebwidget-content")?d.widget=c:d.widget=c.querySelector(".biebwidget-content");return d.widget?a(d):(b.util.error("bw.ui.modalwindow: target is not wrapped by widget: "+c),!1)};b.ui.modalwindow.open=function(a,d){a=b.ui.modalwindow.prepare(a,d);if(!1===a)return!1;a.settings.firstthing?(d=document.body.querySelector(".biebwidget-content h1"))?(b.util.insertAfter(d.parentElement,a.element),a.settings.ignoreH1||
(this.h1Links=b.util.children(d,"a"),this.h1Links.forEach(function(a){a.setAttribute("data-href",a.getAttribute("href"));a.removeAttribute("href")}.bind(this)))):b.util.insertIntoAsFirst(document.body.querySelector(".biebwidget-content"),a.element):b.util.insertIntoAsLast(a.settings.widget,a.element);c(a);return a};b.ui.modalwindow.close=d;b.ui.modalwindow.remove=function(a){d(a);b.util.removeElement(a.element)};var g={small:420,medium:640,large:860}})(bw);
(function(b){b.ui.foldable=b.util.Class.extend({init:function(a){if(!a.classList.contains("interactive")){this.toggler=a;b.util.addClass(this.toggler,"interactive");this.content=this.toggler.nextElementSibling;var c=this.containsHash();this.open=b.util.hasClass(a,"open")||c;c&&(b.util.removeClass(this.toggler,"close"),b.util.addClass(this.toggler,"open"));a=document.createElement("span");a.textContent=this.toggler.textContent;this.button=document.createElement("button");this.updateAriaState();b.util.addClass(this.button,
"default");b.util.insertIntoAsLast(this.button,a);this.toggler.textContent="";b.util.insertIntoAsLast(this.toggler,this.button);this.setup()}},setup:function(){this.setToggleHandler()},containsHash:function(){var a=window.location.hash;return"#"+this.toggler.getAttribute("id")===a||a.length&&this.toggler.querySelector(a)||"#"+this.content.getAttribute("id")===a||a.length&&this.content.querySelector(a)},setToggleHandler:function(){this.button.addEventListener("click",this.toggleFold.bind(this))},toggleFold:function(a){a.preventDefault();
this.animating||(this.animating=!0,this.open?this.foldIn():this.foldOut())},foldIn:function(a,c){"function"===typeof a&&(c=a,a=!1);this.open=!1;b.util.removeClass(this.toggler,"open");b.util.addClass(this.toggler,"closing");b.util.slideIn(this.content,function(){b.util.removeClass(this.toggler,"closing");this.animating=!1;c&&c.call(this.content)}.bind(this));this.updateAriaState()},foldOut:function(a){this.open=!0;b.util.addClass(this.toggler,"opening");b.util.slideOut(this.content,function(){b.util.addClass(this.toggler,
"open");b.util.removeClass(this.toggler,"opening");this.content.removeAttribute("style");this.animating=!1;a&&a.call(this.content)}.bind(this));this.updateAriaState()},updateAriaState:function(){this.button.setAttribute("aria-expanded",!!this.open)}})})(bw);
(function(b){b.ui.itempicker2=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){var a=!1,c=b.util.children(this.element,"li"),d="bottom"===this.element.getAttribute("data-position")?!b.util.nextSiblings(this.element,".itempicker").length:!b.util.previousSiblings(this.element,".itempicker").length;1<c.length&&d&&(this.content=c,this.content.forEach(function(c){this.itempicker||(this.itempicker=b.util.createElement('\x3cul class\x3d"plain itempicker interactive"\x3e\x3c/ul\x3e'),
"bottom"===this.element.getAttribute("data-position")?b.util.insertAfter(this.element,this.itempicker):b.util.insertBefore(this.element,this.itempicker));var d="",e=c.querySelector("img.etalage, span.coverplaceholder").cloneNode(!0),k="IMG"===e.tagName,h=b.util.next(e),l=c.querySelector("a[href]");l&&(d=l.getAttribute("href"));k?(e.setAttribute("src",e.getAttribute("src").replace("\x26size\x3d80","\x26size\x3d40")),e.removeAttribute("class"),e.setAttribute("class","list cover")):(b.util.removeClass(e,
"etalage"),b.util.addClass(e,"list"));d=b.util.createElement('\x3cli\x3e\x3ca href\x3d"'+b.util.escapeHTML(d)+'"\x3e\x3c/a\x3e\x3c/li\x3e');b.util.insertIntoAsLast(this.itempicker,d);d=d.querySelector("a");b.util.insertIntoAsLast(d,e);if(k&&!e.getAttribute("alt")||b.util.matches(e,"span.coverplaceholder")&&(!h||!b.util.matches(h,"span.struct")))(h=c.querySelector("h3, h4"))&&0<b.util.children(h,"a").length&&(h=b.util.children(h,"a")[0]),h=Array.prototype.map.call(Array.prototype.filter.call(h.childNodes,
function(a){return a.nodeType===Node.TEXT_NODE}),function(a){return a.textContent}).join(""),k?e.setAttribute("alt",h):b.util.insertAfter(e,'\x3cspan class\x3d"struct"\x3e'+b.util.escapeHTML(h)+"\x3c/span\x3e");!a&&b.util.hasClass(c,"current")&&(a=!0,(e=b.util.children(this.itempicker,"li").slice(-1)[0])&&b.util.addClass(e,"current"),b.util.siblings(c).forEach(function(a){b.util.removeClass(a,"current")}))}.bind(this)),a||(b.util.addClass(this.content[0],"current"),b.util.addClass(b.util.children(this.itempicker,
"li")[0],"current")),this.attachHandlers())},attachHandlers:function(){this.itempicker.addEventListener("click",function(a){var c=a.target,d=c.closest("li");this.attachBlur(c);c=b.util.index(d);b.util.addClass(d,"current");b.util.siblings(d).forEach(function(a){b.util.removeClass(a,"current")});b.util.addClass(this.content[c],"current");b.util.siblings(this.content[c]).forEach(function(a){b.util.removeClass(a,"current")});a.preventDefault()}.bind(this))},attachBlur:function(a){var b=function(){a.blur();
a.removeEventListener("mousemove",b)};a.addEventListener("mousemove",b)}})})(bw);
(function(b){b.ui.rotatingitems=b.util.Class.extend({intervalId:null,init:function(a){this.element=a;this.setup()},setup:function(){if(b.util.getWindowWidth()>b.MOBILEWIDTH&&(this.items=b.util.children(this.element,"li"),1<this.items.length)){var a=b.util.parents(this.element,".biebwidget-column, .biebwidget-double-column, #bibliotheek-nl-page")[0];a&&(b.util.hasClass(a,"biebwidget-column")?this.offset=400:b.util.hasClass(a,"biebwidget-double-column")?this.offset=808:this.offset=1216);this.timeout=
7500;for(a=0;a<this.items.length;a++)a?(this.items[a].style.left=this.offset+"px",this.items[a].style.display="none"):(this.items[a].style.left="0",this.items[a].style.display="block");this.activeItemIndex=this.newItemIndex=0;b.util.addClass(this.element,"interactive");this.setTimer();this.element.addEventListener("mouseenter",this.clearTimer.bind(this));this.element.addEventListener("mouseleave",this.setTimer.bind(this))}},clearTimer:function(){this.intervalId&&clearInterval(this.intervalId)},setTimer:function(){this.intervalId=
setInterval(this.nextItem.bind(this),this.timeout)},nextItem:function(){this.newItemIndex++;this.newItemIndex%=this.items.length;b.util.easeInBack(this.items[this.activeItemIndex],{left:"-"+this.offset+"px"},700,function(){this.items[this.activeItemIndex].style.left=this.offset+"px";this.items[this.activeItemIndex].style.display="none";this.items[this.newItemIndex].style.display="block";b.util.easeOutBack(this.items[this.newItemIndex],{left:"0"},700,function(){this.activeItemIndex=this.newItemIndex}.bind(this))}.bind(this))}})})(bw);
(function(b){function a(a,b){return a[b+(0>b?a.length:0)]}b.ui.slideshow=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){this.items=b.util.children(this.element,"li");if(1<this.items.length){this.ofText="en"===document.querySelector("html").getAttribute("lang")?"of":"van";this.currentlySliding=this.navigationCreated=this.heightSet=!1;this.activeItemIndex=this.newItemIndex=0;this.couldBeCollapsed=!(!b.util.parents(this.element,".biebwidget.expandable")[0]||!b.ui.couldBeExpandable());
this.eventType=this.yDown=this.xDown=null;this.setConfigData();this.nrOfItemsInView=1;this.items[0].style.left=0;if(100>this.config.itemWidth){this.nrOfItemsInView=2;for(var a=this.items.slice(1,this.nrOfItemsInView),d=0;d<a.length;d++){var e=a[d];e.style.left=this.config.itemWidth+"%";b.util.addClass(e,"partial");(e=e.querySelector("a.button"))&&e.setAttribute("tabindex","-1")}}a=this.items.slice(this.nrOfItemsInView);for(d=0;d<a.length;d++)a[d].style.left="100%";this.setContainerHeight(0,1);window.addEventListener("resize",
b.util.debounce(125,!1,this.doResize).bind(this));this.element.addEventListener("touchstart",this.handleTouchStart.bind(this));this.element.addEventListener("touchmove",this.determineSwipeDirection.bind(this));this.element.addEventListener("swipeRight",this.navigatePrev.bind(this));this.element.addEventListener("swipeLeft",this.navigateNext.bind(this))}},setConfigData:function(){this.config={};this.config.heightCertain="true"===this.element.getAttribute("data-heightcertain");this.config.itemWidth=
100;var a=this.element.getAttribute("data-itemwidth");/\d{2,3}/.test(a)&&90<=parseInt(a,10)&&100>=parseInt(a,10)&&(this.config.itemWidth=parseInt(a,10));this.config.navFade=100!==this.config.itemWidth;this.config.loopIntent="true"===this.element.getAttribute("data-loop");this.config.loop=this.config.loopIntent&&(2<this.items.length||1<this.items.length&&100===this.config.itemWidth);this.config.navNextOnlyIntent=this.config.loopIntent&&"true"===this.element.getAttribute("data-navnextonly");this.config.navNextOnly=
this.config.loop&&this.config.navNextOnlyIntent;this.config.indicators=this.config.loop&&"true"===this.element.getAttribute("data-indicators")},doResize:function(){this.heightSet=!1;this.setContainerHeight(0,1);this.positionNavigation()},setContainerHeight:function(a,d){var c=this.items.slice(a,d);if(this.config.heightCertain)this.doSetContainerHeight(c),this.createNavigation();else{this.picsLoaded=this.initialPicsLoaded=0;var f=function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c].querySelectorAll("img").length;
return b};this.initialTotalPics=f(c);this.totalPics=f(this.items);this.imgsComplete(c)?(this.picsLoaded=this.initialPicsLoaded=this.initialTotalPics,this.doSetContainerHeight(c),this.initialTotalPics>=this.totalPics&&this.createNavigation()):c.forEach(function(c){var e=this.couldBeCollapsed||0<b.util.getHeight(c);c.querySelectorAll("img").forEach(function(b){if(e&&b.complete&&0<this.getHeight(b))this.doPicLoaded(!0,a,d);else{var c=function(){this.doPicLoaded(!0,a,d)}.bind(this);b.addEventListener("load",
c);b.addEventListener("error",c)}}.bind(this))}.bind(this));this.items.slice(d).forEach(function(c){var e=this.couldBeCollapsed||0<b.util.getHeight(c);c.querySelectorAll("img").forEach(function(b){if(e&&b.complete&&0<this.getHeight(b))this.doPicLoaded(!1,a,d);else{var c=function(){this.doPicLoaded(!1,a,d)}.bind(this);b.addEventListener("load",c);b.addEventListener("error",c)}}.bind(this))}.bind(this));this.picsLoaded!==this.totalPics&&window.addEventListener("load",function(){this.doSetContainerHeight(this.items.slice(a,
d));this.createNavigation()}.bind(this))}},imgsComplete:function(a){var b=!0;a.forEach(function(a){a.querySelectorAll("img").forEach(function(a){a.complete&&0!==this.getHeight(a)||(b=!1)}.bind(this))}.bind(this));return b},doPicLoaded:function(a,b,e){a&&++this.initialPicsLoaded;++this.picsLoaded;a&&this.initialPicsLoaded>=this.initialTotalPics&&this.doSetContainerHeight(this.items.slice(b,e));this.picsLoaded>=this.totalPics&&this.createNavigation()},doSetContainerHeight:function(a){if(!this.heightSet){var b=
0;a.forEach(function(a){a=this.getHeight(a);b=Math.max(a,b)}.bind(this));if(0<b)this.element.style.height=b+"px";else if(this.couldBeCollapsed){var c=[];a.forEach(function(a){a=a.querySelectorAll("img");for(var b=0;b<a.length;b++)c.push(a[b])});this.doSetContainerHeight(c)}this.heightSet=!0}},createNavigation:function(){if(!this.navigationCreated&&1<this.items.length){this.navigationCreated=!0;var a=this.element.getAttribute("data-prev"),d=this.element.getAttribute("data-next"),e=this.element.getAttribute("data-navclass"),
f=this.config.navFade?" fadeout":"",g=this.config.loop?'class\x3d"prev"':'class\x3d"prev passive" disabled',k=document.querySelector("html").getAttribute("lang"),h="en"===k?"previous":"vorige";k="en"===k?"next":"volgende";a=a?b.util.escapeHTML(a):h;d=d?b.util.escapeHTML(d):k;e=e?" "+b.util.escapeHTML(e):"";b.util.addClass(this.items[0],"current");b.util.addClass(this.element,"interactive");this.config.navNextOnly?b.util.insertBefore(this.element,'\x3cdiv class\x3d"slidingnav'+e+f+'"\x3e\x3cbutton class\x3d"next"\x3e'+
d+"\x3c/button\x3e\x3c/div\x3e"):b.util.insertBefore(this.element,'\x3cdiv class\x3d"slidingnav'+e+f+'"\x3e\x3cbutton '+g+"\x3e"+a+'\x3c/button\x3e\x3cbutton class\x3d"next"\x3e'+d+"\x3c/button\x3e\x3c/div\x3e");var l=0;this.items.forEach(function(a){++l;l>this.nrOfItemsInView&&b.util.addClass(a,"hidden")}.bind(this));this.heightSet=!1;this.setContainerHeight(0,1);this.nav=b.util.previousSiblings(this.element,".slidingnav")[0];"absolute"!==window.getComputedStyle(this.nav).position&&(this.config.navFade=
!1);this.positionNavigation();this.createIndicators();(this.navPrev=b.util.children(this.nav,"button.prev")[0])&&this.navPrev.addEventListener("click",this.navigatePrev.bind(this));(this.navNext=b.util.children(this.nav,"button.next")[0])&&this.navNext.addEventListener("click",this.navigateNext.bind(this))}},handleTouchStart:function(a){this.xDown=a.touches[0].clientX;this.yDown=a.touches[0].clientY},determineSwipeDirection:function(a){if(this.xDown&&this.yDown){var c=this.xDown-a.touches[0].clientX;
Math.abs(c)>Math.abs(this.yDown-a.touches[0].clientY)&&(a.preventDefault(),b.util.dispatchEvent(this.element,0<c?"swipeLeft":"swipeRight"));this.yDown=this.xDown=null}},navigateNext:function(a){this.eventType=a.type;this.currentlySliding||(this.currentlySliding=!0,this.nextItem(a),this.blurOnLeave(a))},navigatePrev:function(a){this.eventType=a.type;this.currentlySliding||(this.currentlySliding=!0,this.prevItem(a),this.blurOnLeave(a))},blurOnLeave:function(a){if("click"===a.type){var b=function(a){a.target.blur();
a.target.removeEventListener("mouseleave",b)};a.target.addEventListener("mouseleave",b)}},createIndicators:function(){this.config.indicators&&(this.indicators=b.util.createElement('\x3cdiv class\x3d"slidingindicators"\x3e\x3c/div\x3e'),b.util.insertAfter(this.element,this.indicators),b.util.insertIntoAsLast(this.indicators,'\x3cp class\x3d"struct"\x3eSlide \x3cspan class\x3d"this"\x3e1\x3c/span\x3e '+this.ofText+" "+this.items.length+"\x3c/p\x3e"),this.humanreadableIndex=this.indicators.querySelector("p.struct \x3e span.this"),
this.items.forEach(function(a,d){b.util.insertIntoAsLast(this.indicators,'\x3cspan class\x3d"dot'+(0===d?" current":"")+'"\x3e\x3c/span\x3e')}.bind(this)),this.indicators=b.util.children(this.indicators,"span"))},positionNavigation:function(){this.navigationCreated||this.createNavigation();if(this.config.navFade){var a=b.util.getOuterHeight(this.element,!0),d=this.getHeight(this.items[0]);this.nav.style.height=a<d?d+"px":a+"px"}var e=0,f=0,g=50;this.items.forEach(function(a){a=this.getHeight(a);a>
f&&(f=a);if(!e||a<e)e=a}.bind(this));if(!f&&this.couldBeCollapsed){var k=[];this.items.forEach(function(a){a=a.querySelectorAll("img");for(var b=0;b<a.length;b++)k.push(a[b])});k.forEach(function(a){a=this.getHeight(a);a>f&&(f=a);if(!e||a<e)e=a}.bind(this))}e<g&&(e=g);g=Math.min(Math.max(20,e-43),Math.floor((e+f)/4)-23);b.util.children(this.nav,"button").forEach(function(a){a.style.top=g+"px"})},nextItem:function(){var c=this.activeItemIndex+1;if(this.config.loop||c<this.items.length){this.newItemIndex=
c;100>this.config.itemWidth&&++this.newItemIndex;this.config.loop&&(this.newItemIndex%=this.items.length);var d=a(this.items,this.activeItemIndex);c=a(this.items,this.newItemIndex);if(this.activeItemIndex+1<this.items.length||this.config.loop){c&&b.util.removeClass(c,"hidden");if(100===this.config.itemWidth)c&&(c.style.left="100%");else{var e=this.activeItemIndex+1;this.config.loop&&(e%=this.items.length);e=a(this.items,e);c&&(c.style.left=2*this.config.itemWidth+"%")}c&&b.util.forceReflow(c);2===
this.items.length&&this.config.loopIntent&&!this.config.loop?(b.util.addClass(d,"partial"),(c=d.querySelector("a.button"))&&c.setAttribute("tabindex","-1"),b.util.removeClass(e,"partial"),e&&(c=e.querySelector("a.button"))&&c.removeAttribute("tabindex"),this.transition(d,{left:100-2*this.config.itemWidth+"%"},!0),this.transition(e,{left:100-this.config.itemWidth+"%"},!0)):(this.transition(d,{left:"-"+this.config.itemWidth+"%"},!0,function(a){b.util.addClass(a,"hidden")}),100===this.config.itemWidth?
c&&(b.util.removeClass(c,"partial"),(e=c.querySelector("a.button"))&&e.removeAttribute("tabindex"),this.transition(c,{left:"0"},!0)):(e&&(b.util.removeClass(e,"partial"),(d=e.querySelector("a.button"))&&d.removeAttribute("tabindex")),c&&(b.util.addClass(c,"partial"),(d=c.querySelector("a.button"))&&d.setAttribute("tabindex","-1")),this.transition(e,{left:"0"},!0),c&&this.transition(c,{left:this.config.itemWidth+"%"},!0)))}e=0;c=this.activeItemIndex+1;this.config.loop&&(c%=this.items.length);c<this.items.length&&
(e=this.getHeight(this.items[c]));0<e&&e!==b.util.getHeight(this.element)&&(this.config.navFade&&this.transition(this.nav,{height:b.util.getOuterHeight(this.element,!0)-b.util.getHeight(this.element)+e+"px"},!1),this.transition(this.element,{height:e+"px"},!1));this.config.indicators&&b.util.removeClass(this.indicators[this.activeItemIndex],"current");++this.activeItemIndex;this.config.loop?this.activeItemIndex%=this.items.length:(this.navPrev&&(b.util.removeClass(this.navPrev,"passive"),this.navPrev.removeAttribute("disabled")),
this.newItemIndex>=this.items.length-(2-this.nrOfItemsInView)&&(this.navNext&&(b.util.addClass(this.navNext,"passive"),this.navNext.setAttribute("disabled","disabled")),b.util.hasClass(this.nav,"fadeout")&&(b.util.removeClass(this.nav,"fadeout"),b.util.addClass(this.nav,"nofadeout"))));this.config.indicators&&(b.util.addClass(this.indicators[this.activeItemIndex],"current"),this.humanreadableIndex.textContent=this.activeItemIndex+1)}},prevItem:function(){var c=this.activeItemIndex-1;!this.config.loop&&
0>c&&(c=0);if(this.config.loop||0<=c){this.config.loop&&0>c&&(c=this.items.length-1);this.newItemIndex=c;c=a(this.items,this.activeItemIndex);var d=a(this.items,this.newItemIndex);if(b.util.index(d)!==this.activeItemIndex){d&&b.util.removeClass(d,"hidden");if(!this.config.loopIntent||this.config.loop||2<this.items.length)d&&(d.style.left="-"+this.config.itemWidth+"%"),void b.util.getWidth(d);b.util.removeClass(d,"partial");var e=d.querySelector("a.button");e&&e.removeAttribute("tabindex");this.transition(d,
{left:"0"},!0);100>this.config.itemWidth&&(b.util.addClass(c,"partial"),(d=c.querySelector("a.button"))&&d.setAttribute("tabindex","-1"));this.transition(c,{left:this.config.itemWidth+"%"},!0,function(a){100===this.config.itemWidth&&b.util.addClass(a,"hidden")}.bind(this));100>this.config.itemWidth&&(c=a(this.items,this.activeItemIndex+1))&&this.transition(c,{left:2*this.config.itemWidth+"%"},!0,function(a){b.util.removeClass(a,"partial");b.util.addClass(a,"hidden");(a=a.querySelector("a.button"))&&
a.removeAttribute("tabindex")});c=0;d=this.activeItemIndex-1;this.config.loop&&(d=(d+this.items.length)%this.items.length);0<=d&&(c=this.getHeight(this.items[d]));0<c&&c!==b.util.getHeight(this.element)&&(this.config.navFade&&this.transition(this.nav,{height:b.util.getOuterHeight(this.element,!0)-b.util.getHeight(this.element)+c+"px"},!1),this.transition(this.element,{height:c+"px"},!1));this.config.indicators&&b.util.removeClass(this.indicators[this.activeItemIndex],"current");--this.activeItemIndex;
this.config.loop?this.activeItemIndex=(this.activeItemIndex+this.items.length)%this.items.length:(b.util.hasClass(this.nav,"nofadeout")&&(b.util.removeClass(this.nav,"nofadeout"),b.util.addClass(this.nav,"fadeout")),this.navNext&&(b.util.removeClass(this.navNext,"passive"),this.navNext.removeAttribute("disabled")),0===this.newItemIndex&&this.navPrev&&(b.util.addClass(this.navPrev,"passive"),this.navPrev.setAttribute("disabled","disabled")));this.config.indicators&&(b.util.addClass(this.indicators[this.activeItemIndex],
"current"),this.humanreadableIndex.textContent=this.activeItemIndex+1)}}},transition:function(a,d,e,f){var c=["webkitTransitionEnd","transitionend","transitionEnd"];e&&b.util.addClass(a,"animating");var k=function(){clearTimeout(this.fallbackTimeout);c.forEach(function(b){a.removeEventListener(b,k)});e&&b.util.removeClass(a,"animating");f&&f(a);this.currentlySliding=!1}.bind(this);c.forEach(function(b){a.addEventListener(b,k)});this.fallbackTimeout=setTimeout(function(){k()}.bind(this),750);for(var h in d)d.hasOwnProperty(h)&&
(a.style[h]=d[h])},getHeight:function(a){var c=b.util.getOuterHeight(a,!0);if(0===c&&this.couldBeCollapsed&&"IMG"===a.tagName){var e=b.util.parents(".biebwidget.expandable")[0];if(e&&(0<a.naturalHeight&&0<a.naturalWidth||0<a.height&&0<a.width)){var f=b.util.getWidth(e);40<f&&(e.hasClass("standard")&&(f-=40),c=0<a.naturalHeight&&0<a.naturalWidth?Math.round(f/a.naturalWidth*a.naturalHeight):Math.round(f/a.width*a.height))}}return c}})})(bw);
(function(b){b.ui.coverflow2=b.util.Class.extend({element:null,amountOfCovers:0,container:null,init:function(a){this.element=a;this.amountOfCovers=parseInt(a.getAttribute("data-amountofcovers"));this.container=this.element.querySelector(".coverflow-container");this.setup()},setup:function(){this.windowWidth=b.util.getWindowWidth();this.doShowItemDetails=!1;this.itemDetails=this.element.querySelectorAll(".coverflow-details");this.initializeAndLayoutItems();0<this.itemDetails.length&&(this.infoButton=
b.util.createElement('\x3cdiv class\x3d"coverflow-info"/\x3e'),b.util.insertAfter(this.container,this.infoButton),this.showInfoButton(),this.doShowItemDetails=!0);this.attachHandlers();b.util.hasClass(this.element,"navigationcontrols")&&this.initNavigation()},initializeAndLayoutItems:function(){function a(a,b){var c=g[b];c&&(g[b]=void 0,a.removeEventListener("load",c));this.adjustItemPositionAndSize(a.parentElement);a=f.indexOf(a.parentElement);-1<a&&f.splice(a,1)}this.items=this.container.querySelectorAll("li.cover a");
this.currentIndex=this.centerIndex=Math.floor(this.items.length/2);var c=b.util.getWidth(this.container),d=b.util.getHeight(this.container);if(!b.util.isVisible(this.container)||0===c||0===d){var e=b.util.parent(this.container,".coverflows");if(e&&0<b.util.getWidth(e)&&0<b.util.getHeight(e))c=b.util.getWidth(e),d=b.util.getHeight(e);else for(e=this.container;!b.util.hasClass(e,"biebwidget-content");)if(e=e.parentElement,b.util.isVisible(e)&&0<b.util.getWidth(e)&&0<b.util.getHeight(e)){c=b.util.getWidth(e);
d=b.util.getHeight(e);break}}this.centerPosH=Math.round(c/2);this.centerPosV=Math.round(d/2);this.windowWidth<=b.MOBILEWIDTH?(this.itemWidth=[null,100,78,15],this.itemPos=[null,0,108,128]):9===this.amountOfCovers?(this.itemWidth=[null,120,90,78,50,35,25],this.itemPos=[null,0,115,153,190,228,200]):(this.itemWidth=[null,120,78,60,35,25],this.itemPos=[null,0,108,158,188,170]);c=0;var f=[],g=[];for(d=0;d<this.items.length;d++){var k=this.items[d];this.initializeItem(d,k);e=k.querySelector("img");e.complete&&
(0<e.naturalHeight||0<e.height)||(f.push(k),k=g[d]=a.bind(this,e,d),e.addEventListener("load",k),++c)}0<c&&window.addEventListener("load",function(){0<f.length&&f.forEach(this.adjustItemPositionAndSize.bind(this))}.bind(this));b.util.removeElement(this.container.children[0]);this.currentItem=this.items[this.centerIndex]},initializeItem:function(a,b){b._index=a;b.className="";b.style.position="absolute";this.setItemPositionAndSize(b);this.container.appendChild(b)},setItemPositionAndSize:function(a){var c=
a.querySelector("img");a._ratio=this.getRatio(c);this.doShowItemDetails&&a._index===this.currentIndex&&this.showInfoButton();a._rank=this.getRank(a);a._mod=this.getMod(a);a.style.left=this.getLeftPosition(a)+"px";a.style.width=this.itemWidth[a._rank]+"px";a.style.height=Math.round(b.util.getWidth(a)/a._ratio)+"px";a.style.top=this.centerPosV-Math.round(b.util.getHeight(a)/2)+"px";a.style.zIndex=this.getZIndex(a)},adjustItemPositionAndSize:function(a){var c=a.querySelector("img");a._ratio=this.getRatio(c);
this.doShowItemDetails&&a._index===this.currentIndex&&this.showInfoButton();a.style.height=Math.round(b.util.getWidth(a)/a._ratio)+"px";a.style.top=this.centerPosV-Math.round(b.util.getHeight(a)/2)+"px"},getRatio:function(a){var b=.625;a.complete&&0<a.naturalHeight&&0<a.naturalWidth?b=a.naturalWidth/a.naturalHeight:a.complete&&0<a.height&&0<a.width&&(b=a.width/a.height);return b},getNewItemPositionAndSize:function(a){var b={};a._rank=this.getRank(a);a._mod=this.getMod(a);b.left=this.getLeftPosition(a);
b.width=this.itemWidth[a._rank];b.height=Math.round(b.width/a._ratio);b.top=this.centerPosV-Math.round(b.height/2);b.zIndex=this.getZIndex(a);return b},getRank:function(a){return this.windowWidth<=b.MOBILEWIDTH?Math.min(Math.abs(a._index-this.currentIndex)+1,3):9===this.amountOfCovers?Math.min(Math.abs(a._index-this.currentIndex)+1,6):Math.min(Math.abs(a._index-this.currentIndex)+1,5)},getMod:function(a){return 1>a._index-this.currentIndex?-1:1},getTopPosition:function(a){return this.centerPosV-Math.round(this.itemWidth[a._rank]/
a._ratio/2)},getRightPosition:function(a){return this.centerPosH+this.itemPos[a._rank]*a._mod+Math.round(this.itemWidth[a._rank]/2)},getBottomPosition:function(a){return this.centerPosV+Math.round(this.itemWidth[a._rank]/a._ratio/2)},getLeftPosition:function(a){return this.centerPosH+this.itemPos[a._rank]*a._mod-Math.round(this.itemWidth[a._rank]/2)},getZIndex:function(a){return Math.max(this.centerIndex-a._rank+2,0)},animateItems:function(a){var c,d=-1*(a._rank-1)*a._mod;d&&(this.items.forEach(function(a){c=
this.getNewItemPositionAndSize(a,d);a.style.zIndex=c.zIndex;a.style.left=c.left+"px";a.style.top=c.top+"px";a.style.width=c.width+"px";a.style.height=c.height+"px"}.bind(this)),this.doShowItemDetails&&b.util.setTimeout("showinfo-"+this.widgetInstanceId,310,this.showInfoButton.bind(this)))},showInfoButton:function(){var a=this.getRightPosition(this.currentItem)-16,b=this.getTopPosition(this.currentItem)-10;this.infoButton.style.left=a+"px";this.infoButton.style.top=b+"px";this.infoButton.style.right=
"auto";this.infoButton.style.display="";this.infoButton.style.opacity=1;this.infoButton.style.visibility=null;this.infoButton.style.transition="opacity 0.2s"},showCloseButton:function(){this.infoButton.style.left="auto";this.infoButton.style.right="16px";this.infoButton.style.top=this.currentItem.offsetTop-10+"px";this.infoButton.style.display=null;this.infoButton.style.transition="opacity 0.2s";this.infoButton.style.opacity=1},showItemDetails:function(){this.infoButton.style.opacity=0;this.infoButton.style.display=
"none";var a={opacity:0};this.items.forEach(function(c){c!==this.currentItem&&(c.style.opacity=1,b.util.animateStyle(c,a,400))}.bind(this));b.util.animateStyle(this.element.parentElement.querySelector("button.prev"),a,400);b.util.animateStyle(this.element.parentElement.querySelector("button.next"),a,400);b.util.addClass(this.currentItem,"active");this.currentItem.style.left=b.util.getWidth(this.container)-b.util.getWidth(this.currentItem)-30+"px";b.util.setTimeout("showclose-"+this.widgetInstanceId,
310,function(){b.util.addClass(this.infoButton,"coverflow-close");this.showCloseButton();return!1}.bind(this));var c=this.itemDetails[this.currentIndex].querySelector(".content");c.querySelector(".cover-detail").parentElement.style.display="none";c.style.display="block";b.util.insertIntoAsLast(this.container,c);b.util.animateStyle(c,{opacity:0},{opacity:1},1E3);200<b.util.getHeight(this.element.querySelector(".content"))&&(this.container.style.position="relative")},hideItemDetails:function(){b.util.removeClass(this.currentItem,
"active");b.util.animateStyle(this.infoButton,{opacity:0},300,function(){b.util.removeClass(this.infoButton,"coverflow-close")}.bind(this));var a=this.container.querySelector(".content");b.util.animateStyle(a,{opacity:0},300);b.util.insertIntoAsLast(this.itemDetails[this.currentIndex],a);this.container.removeAttribute("style");b.util.animateStyle(this.currentItem,{left:this.getLeftPosition(this.currentItem)+"px"},300);b.util.setTimeout("showinfoandnav-"+this.widgetInstanceId,310,function(){this.items.forEach(function(a){b.util.animateStyle(a,
{opacity:1},300);a.style.transition=""}.bind(this));var a=this.element.parentElement.querySelector("button.prev");b.util.animateStyle(a,{opacity:1},300);a=this.element.parentElement.querySelector("button.next");b.util.animateStyle(a,{opacity:1},300);this.showInfoButton();return!1}.bind(this))},attachHandlers:function(){this.attachCoverClick();this.doShowItemDetails&&this.infoButton.addEventListener("click",function(){b.util.hasClass(this.infoButton,"coverflow-close")?this.hideItemDetails():this.showItemDetails()}.bind(this))},
attachCoverClick:function(){this.container.querySelectorAll("* \x3e a").forEach(function(a){a.addEventListener("click",function(a){a.currentTarget!==this.currentItem?(this.attachBlur(this.element),this.currentItem=a.currentTarget,this.currentIndex=a.currentTarget._index,this.animateItems(this.currentItem),this.doShowItemDetails&&(this.infoButton.style.visibility="hidden",this.infoButton.style.opacity=0),a.preventDefault()):this.doShowItemDetails&&(this.infoButton.click(),a.preventDefault(),this.attachBlur(a.currentTarget));
b.util.hasClass(this.element,"navigationcontrols")&&this.enableDisableNavigation()}.bind(this))}.bind(this))},detachCoverClick:function(){this.container.querySelectorAll("* \x3e a").forEach(function(a){a.removeEventListener("click")})},attachBlur:function(a){function b(c){a.blur();a.removeEventListener("mouseleave",b)}a.addEventListener("mouseleave",b)},initNavigation:function(){if(this.windowWidth>b.MOBILEWIDTH){if(!this.element.querySelector("button.prev")){b.util.insertIntoAsLast(this.element,
'\x3cbutton class\x3d"prev"\x3eprev\x3c/button\x3e\x3cbutton class\x3d"next"\x3enext\x3c/button\x3e');var a=this.element.querySelector("button.prev"),c=this.element.querySelector("button.next"),d=function(a){this.movePrev(a);a.preventDefault();this.attachBlur(this.element)}.bind(this),e=function(a){this.moveNext(a);a.preventDefault();this.attachBlur(this.element)}.bind(this);a.addEventListener("click",d);c.addEventListener("click",e)}this.enableDisableNavigation()}},moveNext:function(a){this.currentIndex<
this.items.length-1&&(this.currentItem=this.items[this.currentIndex+1],this.currentIndex=this.currentItem._index,this.animateItems(this.currentItem),this.doShowItemDetails&&(this.infoButton.style.opacity=0,this.infoButton.style.visibility="hidden"));this.enableDisableNavigation()},movePrev:function(a){0<this.currentIndex&&(this.currentItem=this.items[this.currentIndex-1],this.currentIndex=this.currentItem._index,this.animateItems(this.currentItem),this.doShowItemDetails&&(this.infoButton.style.opacity=
0,this.infoButton.style.visibility="hidden"));this.enableDisableNavigation()},enableDisableNavigation:function(){var a=this.element.querySelector("button.prev"),c=this.element.querySelector("button.next");0===this.currentIndex?(b.util.addClass(a,"passive"),a.setAttribute("disabled","disabled")):(b.util.removeClass(a,"passive"),a.removeAttribute("disabled"));this.currentIndex+1===this.items.length?(b.util.addClass(c,"passive"),c.setAttribute("disabled","disabled")):(b.util.removeClass(c,"passive"),
c.removeAttribute("disabled"))}})})(bw);
(function(b){b.ui.teaser=b.util.Class.extend({toggleTeaserListener:null,init:function(a){this.element=a;b.util.addClass(this.element,"interactive");this.setup()},setup:function(){this.on="always"===this.element.getAttribute("data-on")||b.util.getWindowWidth()<=b.MOBILEWIDTH;this.closeable="true"===this.element.getAttribute("data-closeable");this.buttonType=this.element.getAttribute("data-button-type")||"quaternary";if(this.on){var a=document.querySelector("html").getAttribute("lang");this.expandLabel=
this.element.getAttribute("data-expand")||("en"===a?"Read more":"Lees meer");this.collapseLabel=this.element.getAttribute("data-collapse")||("en"===a?"Read less":"Lees minder");b.util.insertAfter(this.element,'\x3cp class\x3d"teasertoggler"\x3e\x3cbutton class\x3d"'+b.util.escapeHTML(this.buttonType)+' button"\x3e'+b.util.escapeHTML(this.expandLabel)+"\x3c/button\x3e\x3c/p\x3e");this.button=b.util.children(b.util.nextSiblings(this.element,"p")[0],"button")[0];b.util.addClass(this.element,"teaser");
this.openState=!1;this.attachHandlers()}},attachHandlers:function(){this.button.addEventListener("click",this.toggleTeaser.bind(this));this.element.addEventListener("transitionend",this.cleanup.bind(this))},toggleTeaser:function(){this.openState?(b.util.addClass(this.element,"collapsing"),this.element.style.maxHeight=b.util.getHeight(this.element)+"px",b.util.forceReflow(this.element),b.util.removeClass(this.element,"expanded"),b.util.removeClass(this.button,"open")):(b.util.addClass(this.element,
"opening"),this.element.style.maxHeight=this.element.scrollHeight+"px",b.util.forceReflow(this.element),b.util.addClass(this.element,"expanded"),b.util.addClass(this.button,"open"),this.closeable||b.util.removeElement(this.button.parentElement));this.button.textContent=this.openState?this.expandLabel:this.collapseLabel;this.openState=!this.openState},cleanup:function(){this.element.getAttribute("style")||(b.util.removeClass(this.element,"collapsing"),b.util.removeClass(this.element,"opening"));this.element.removeAttribute("style")}})})(bw);
(function(b){b.ui.audiotest=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){if(!b.util.canPlay(this.element,"audio/mpeg")){var a=this.element.getElementsByTagName("a");a.length&&this.element.parentNode.replaceChild(a[0],this.element)}}})})(bw);
(function(b){b.ui.coverfix=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){this.identifierRegExp=/(ppn%2F|cdr%2F)([a-z\d]+)/i;for(var a=["http://","https://","//"],b=["covers.bibliotheek.nl/","nbc.bibliotheek.nl/","v112.nbc.bibliotheek.nl/"],d="",e=0;e<a.length;e++)for(var f=0;f<b.length;f++)d+='img[src^\x3d"'+a[e]+b[f]+'"], ';d=d.trim().replace(/,$/g,"");this.covers=this.element.querySelectorAll(d);this.attachHandlers()},attachHandlers:function(){this.covers.forEach(function(a){a.complete?
0===a.naturalWidth&&0===a.naturalHeight&&this.fix(a):a.addEventListener("error",function(){this.fix(a)}.bind(this))}.bind(this))},determineMatchingClass:function(a,c){for(var d=c.length;-1<--d;)if(b.util.hasClass(a,c[d]))return c[d];return""},fix:function(a){var c="variant"+this.hashBucket(a),d=this.determineMatchingClass(a,"list extrasmall etalage narrowgrid highlighted-small list-big highgrid highlighted small full".split(" ")),e=this.determineMatchingClass(a,["album","track","music"]);if(b.util.hasClass(this.element,
"rich-list"))var f=b.util.hasClass(this.element,"get-it")?this.findProductTitle(a):this.findRichListTitle(a);else b.util.hasClass(this.element,"rich-items")?f=b.util.hasClass(this.element,"get-it")?this.findProductTitle(a):this.findRichItemTitle(a):b.util.hasClass(this.element,"grid-items")||b.util.hasClass(this.element,"grid-list")?f=this.findGridListTitle(a):b.util.hasClass(this.element,"highlight")||b.util.parent(a,"div.singlenbcitem")?(f=this.findHighlightTitle(a),this.fixThreedCover(a,c)):b.util.hasClass(this.element,
"nbcitemhighlighted")&&(f=this.findNBCItemHighlightTitle(a),this.fixThreedCover(a,c));c=[c,d,e];(d=a.getAttribute("alt"))&&(d=d.trim());e="";d&&(e='\x3cspan class\x3d"struct"\x3e'+b.util.escapeHTML(d)+"\x3c/span\x3e",f||(f=d));f=f.substring(0,70);b.util.insertBefore(a,'\x3cspan aria-hidden\x3d"true" class\x3d"viz coverplaceholder '+b.util.escapeHTML(c.join(" "))+'" data-title\x3d"'+b.util.escapeHTML(f)+'"\x3e\x3c/span\x3e'+e);b.util.removeElement(a)},fixThreedCover:function(a,c){(a=b.util.parent(a,
"span.imgwrapper.threed"))&&b.util.addClass(a,c)},findRichListTitle:function(a){if(a=b.util.parent(a,"h3,h4,.list-title")){var c=a.querySelector("span.title");return c?b.util.trim(c.textContent):b.util.trim(a.textContent)}return null},findRichItemTitle:function(a){if(a=b.util.parent(a,".viz"))if(a=b.util.previousSiblings(a,".content"),0<a.length&&(a=a[0].querySelector("h3,h4")))return b.util.trim(a.textContent);return null},findGridListTitle:function(a){return(a=b.util.parent(a,"h3,h4,.grid-title"))?
b.util.trim(a.textContent):null},findHighlightTitle:function(a){var c=b.util.parent(a,"h4").querySelector("span.title");return c?b.util.trim(c.textContent):(a=b.util.parent(a,"h4"))?b.util.trim(a.textContent):null},findNBCItemHighlightTitle:function(a){var c=b.util.parent(a,"h3").querySelector("span.title");return c?b.util.trim(c.textContent):(a=b.util.parent(a,"h3"))?b.util.trim(a.textContent):null},findProductTitle:function(a){if(a=b.util.parent(a,".main-column").querySelector(".head h2")){var c=
a.querySelector("span.title");return c?b.util.trim(c.textContent):b.util.trim(a.textContent)}return null},hashBucket:function(a){var b,d=0;a=a.getAttribute("src");(b=a.match(this.identifierRegExp))&&3===b.length&&(a=b[2]);for(var e=0;e<a.length;e++)b=a.charCodeAt(e),d=(d<<5)-d+b,d|=0;0>d&&(d*=-1);return d%5+1}})})(bw);
(function(b){b.ui.mapview=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){this.items=b.util.children(this.element,"li[data-lat][data-lon]").filter(function(a){var b=a.getAttribute("data-lat");a=a.getAttribute("data-lon");return/^-?\d+\.?\d*$/.test(b)&&/^-?\d+\.?\d*$/.test(a)&&-90<=b&&90>=b&&-180<=a&&180>=a});this.items.length&&(this.callBackHandler="bw.ui.mapview.handleMapLoad",this.apiKey=this.element.getAttribute("data-api-key"),this.apiKey||(this.apiKey=""),
this.mapScript="https://maps.googleapis.com/maps/api/js?sensor\x3dfalse\x26callback\x3d"+this.callBackHandler,this.mapScript+="\x26key\x3d"+this.apiKey,this.locations=[],this.lang=document.querySelector("html").getAttribute("lang"),this.listText="en"===this.lang?"List":"Lijst",this.gridText="en"===this.lang?"Images":"Afbeeldingen",this.mapText="en"===this.lang?"Map":"Kaart",this.optionsTitleText="en"===this.lang?"Display options":"Weergaveopties",this.showAsText="en"===this.lang?"Show as ":"Toon als",
this.mapLoaded=!1,this.currentType="list",this.currentText=this.listText,b.util.hasClass(this.element,"grid-list")&&(this.currentType="grid",this.currentText=this.gridText),this.createToggle())},createToggle:function(){var a='\x3cli class\x3d"'+this.currentType+' current"\x3e\x3ca href\x3d"" title\x3d"'+this.showAsText+" "+this.currentText+'"\x3e'+this.currentText+"\x3c/a\x3e\x3c/li\x3e",c='\x3cli class\x3d"map"\x3e\x3cbutton title\x3d"'+this.showAsText+" "+this.mapText+'"\x3e'+this.mapText+"\x3c/button\x3e\x3c/li\x3e",
d='\x3cul class\x3d"plain toggle"\x3e'+a+c+"\x3c/ul\x3e";if(this.tools=b.util.previousSiblings(this.element,".tools")[0]){var e=b.util.children(this.tools,"ul.toggle")[0];e?(b.util.children(e,"."+this.currentType).length||b.util.insertIntoAsLast(e,a),b.util.insertIntoAsLast(e,c)):(a=b.util.children(this.tools,".sort")[0])?b.util.insertBefore(a,d):b.util.insertIntoAsLast(this.tools,d)}else if(this.tools=b.util.createElement('\x3cdiv class\x3d"tools"\x3e\x3ch3 class\x3d"struct"\x3e'+this.optionsTitleText+
"\x3c/h3\x3e"+d+"\x3c/div\x3e"),b.util.insertBefore(this.element,this.tools),d=b.util.previousSiblings(this.tools,"p.totalresults")[0])a=b.util.children(this.tools,"h3.struct"),a.length&&b.util.insertBefore(d,a[0]);this.attachHandlers()},attachHandlers:function(){var a=this.tools.querySelector(".toggle \x3e .map \x3e button");a&&a.addEventListener("click",function(){this.mapLoaded?this.showMap():(this.loadMap(),this.mapLoaded=!0);var c=a.parentElement;b.util.addClass(c,"current");c=b.util.siblings(c);
for(var e=0;e<c.length;e++)b.util.removeClass(c[e],"current");this.attachBlur(a)}.bind(this));var c=this.tools.querySelector(".toggle \x3e ."+this.currentType+" \x3e a");c&&c.addEventListener("click",function(a){this.hideMap();a.preventDefault();a=c.parentElement;b.util.addClass(a,"current");a=b.util.siblings(a);for(var d=0;d<a.length;d++)b.util.removeClass(a[d],"current");this.attachBlur(c)}.bind(this))},loadMap:function(){this.showMap();this.gatherLocations();b.ui.mapview.waitForMapLoad(this);b.util.loadScript(this.mapScript,
null,function(){b.util.error("Failed to load Google Maps")})},gatherLocations:function(){this.items.forEach(function(a){var b=a.querySelector("h3 a, h4 a, .grid-title a, .list-title a");b=((Array.prototype.filter.call(b.childNodes,function(a){return a.nodeType===Node.TEXT_NODE})[0]||{}).nodeValue||"").trim();var d=a.querySelector("a");d=d?d.getAttribute("href"):"";this.locations.push({position:{lat:parseFloat(a.getAttribute("data-lat")),lng:parseFloat(a.getAttribute("data-lon"))},title:b,link:d})}.bind(this))},
showMap:function(){b.util.addClass(this.element,"hidden");document.getElementById("bw-ui-map")||b.util.insertBefore(this.element,'\x3cdiv id\x3d"bw-ui-map" class\x3d"mapcontainer"\x3e\x3c/div\x3e\x3cp class\x3d"mapstatus"\x3e\x3c/p\x3e');this.map=document.getElementById("bw-ui-map");this.statusbar=b.util.next(this.map);b.util.removeClass(this.map,"hidden")},hideMap:function(){b.util.removeClass(this.element,"hidden");this.mapLoaded&&b.util.addClass(this.map,"hidden")},initMap:function(){var a={center:this.locations[0].position,
zoom:14};this.gMap=new google.maps.Map(document.getElementById("bw-ui-map"),a);a=new google.maps.LatLngBounds;for(var b=0;b<this.locations.length;b++){var d=this.locations[b];a.extend(new google.maps.LatLng(d.position.lat,d.position.lng));d.map=this.gMap;(function(a){google.maps.event.addListener(a,"click",function(){window.location=a.link});google.maps.event.addListener(a,"mouseover",function(){this.statusbar.textContent=a.title}.bind(this));google.maps.event.addListener(a,"mouseout",function(){this.statusbar.textContent=
""}.bind(this))}).call(this,new google.maps.Marker(d))}1<this.locations.length&&this.gMap.fitBounds(a)},attachBlur:function(a){var b=a.addEventListener("mouseleave",function(c){a.blur();a.removeEventListener("mouseleave",b)})}});b.ui.mapview.mapQueue=[];b.ui.mapview.waitForMapLoad=function(a){b.ui.mapview.mapQueue.push(a)};b.ui.mapview.handleMapLoad=function(){b.ui.mapview.mapQueue.pop().initMap()}})(bw);
(function(b){b.ui.form.upload=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){var a=!1;this.uploadField=this.element;this.uploadFieldParent=this.element.parentElement;this.uploadField.addEventListener("change",function(c){c=c.target;var d=c.files;if(d&&1001>d.length&&!a){for(var e=[],f=0,g=0;g<d.length;g++)e.push(d[g].name),f+=d[g].size;f=(f/1048576).toFixed(2);(d=this.uploadFieldParent.querySelector(".delete"))&&b.util.removeElement(d);this.removeErrorMessage();
5<f?(this.renderFileSizeWarning(f),a=!0,c.value="",a=!1,b.util.removeElement(this.uploadFieldParent.querySelector(".delete")),b.util.removeElement(this.uploadFieldParent.querySelector(".richtext"))):this.renderFileSelection(e)}else c.value=""}.bind(this))},renderFileSelection:function(a){var c=this.uploadField.getAttribute("data-deletetext");if(1<a.length){var d=this.uploadFieldParent.parentElement;b.util.removeElement(d.querySelector(".richtext"));b.util.insertAfter(this.uploadFieldParent,'\x3cdiv class\x3d"richtext"\x3e\x3cul\x3e\x3c/ul\x3e\x3c/div\x3e');
d=d.querySelector(".richtext \x3e ul");for(var e=[],f=0;f<a.length;f++)e.push("\x3cli\x3e"+b.util.escapeHTML(a[f])+"\x3c/li\x3e");d.innerHTML=e.join("")}(a=this.uploadFieldParent.querySelector(".description"))?b.util.insertBefore(a,'\x3cbutton type\x3d"button" class\x3d"link delete"\x3e'+b.util.escapeHTML(c)+"\x3c/button\x3e"):b.util.insertIntoAsLast(this.uploadFieldParent,'\x3cbutton type\x3d"button" class\x3d"link delete"\x3e'+b.util.escapeHTML(c)+"\x3c/button\x3e");(c=this.uploadFieldParent.querySelector(".delete"))&&
c.addEventListener("click",function(){this.resetField()}.bind(this))},renderFileSizeWarning:function(a){a=this.uploadField.getAttribute("data-too-large").replace("#",a);var c=this.uploadField.getAttribute("data-max-allowed").replace("#",5);b.util.insertAfter(this.uploadField,'\x3cp class\x3d"alert message critical"\x3e'+b.util.escapeHTML(a)+" "+b.util.escapeHTML(c)+"\x3c/p\x3e")},resetField:function(){this.uploadField.value="";b.util.removeElement(this.uploadFieldParent.querySelector(".delete"));
b.util.removeElement(this.uploadFieldParent.parentElement.querySelector(".richtext"));this.removeErrorMessage()},removeErrorMessage:function(){b.util.removeElement(this.uploadFieldParent.querySelector(".alert.message.critical"))}})})(bw);
(function(b){b.ui.expandinglists=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){this.moreButtonText=this.element.getAttribute("data-morebuttontext")||"Meer";this.lessButtonText=this.element.getAttribute("data-lessbuttontext")||"Minder";this.maxItemsMargin=isNaN(parseInt(this.element.getAttribute("data-itemsmargin")))?2:parseInt(this.element.getAttribute("data-itemsmargin"));this.maxVisibleItems=isNaN(parseInt(this.element.getAttribute("data-maxitems")))?5:parseInt(this.element.getAttribute("data-maxitems"));
var a=this.element.getAttribute("data-buttontype")||"quaternary";this.itemsBlock=this.element;this.elementType="OL"===this.itemsBlock.tagName||"UL"===this.itemsBlock.tagName?this.itemsBlock.tagName:"ul";var c=this.itemsBlock.getAttribute("class")||"",d="OL"===this.elementType?' start\x3d"'+b.util.escapeHTML(this.maxVisibleItems)+'"':"";this.hiddenItemListContainer=b.util.createElement("\x3c"+this.elementType+' class\x3d"'+b.util.escapeHTML(c)+' hidden"'+d+"\x3e\x3c/"+this.elementType+"\x3e");this.moreItemsButton=
b.util.createElement('\x3cbutton class\x3d"button more '+b.util.escapeHTML(a)+'"\x3e\x3cspan\x3e'+b.util.escapeHTML(this.moreButtonText)+"\x3c/span\x3e\x3c/button\x3e");this.lessItemsButton=b.util.createElement('\x3cbutton class\x3d"button less hidden '+b.util.escapeHTML(a)+'"\x3e\x3cspan\x3e'+b.util.escapeHTML(this.lessButtonText)+"\x3c/span\x3e\x3c/button\x3e");this.buildItems();this.bindItemButtons();this.isExpanded=!1},buildItems:function(){var a=this.itemsBlock,c=a.querySelectorAll("li"),d=[];
"OL"===this.elementType&&a.setAttribute("start",1);if(c&&c.length>this.maxVisibleItems+this.maxItemsMargin)for(c.forEach(function(a,b){b>this.maxVisibleItems-1&&d.push(a)}.bind(this)),0<d.length&&b.util.insertIntoAsLast(a.parentElement,this.moreItemsButton),b.util.insertIntoAsLast(a.parentElement,this.hiddenItemListContainer),b.util.insertIntoAsLast(a.parentElement,this.lessItemsButton),a=0;a<d.length;a++)b.util.insertIntoAsLast(this.hiddenItemListContainer,d[a])},bindItemButtons:function(){function a(a){a=
a.currentTarget;b.util.hasClass(a,"more")?b.util.removeClass(a.parentElement.querySelector(".less"),"hidden"):b.util.removeClass(a.parentElement.querySelector(".more"),"hidden");b.util.addClass(a,"hidden");this.isExpanded?b.util.slideIn(this.hiddenItemListContainer,function(){b.util.addClass(this.hiddenItemListContainer,"hidden");this.isExpanded=!1}.bind(this)):b.util.slideOut(this.hiddenItemListContainer,function(){b.util.removeClass(this.hiddenItemListContainer,"hidden");this.isExpanded=!0}.bind(this))}
for(var c=this.itemsBlock.parentElement.querySelectorAll("button"),d=0,e=c.length;d<e;d++)c[d].addEventListener("click",a.bind(this))}})})(bw);
(function(b,a){var c=["weak","mediocre","strong"],d=c.join(" ");b.ui.passwordstrength=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){this.userInput=[];this.labelWeak=this.element.getAttribute("data-label-weak")||"Zwak";this.labelMediocre=this.element.getAttribute("data-label-mediocre")||"Matig";this.labelStrong=this.element.getAttribute("data-label-strong")||"Sterk";this.labelStrength=this.element.getAttribute("data-label-strength")||"Dit wachtwoord is: ";var a=
this.checkPassword.bind(this);this.element.addEventListener("keyup",a);this.element.addEventListener("change",a)},initFeedback:function(){this.feedback=b.util.createElement('\x3cp class\x3d"feedback description" aria-live\x3d"polite" aria-relevant\x3d"text"\x3e\x3cspan\x3e'+b.util.escapeHTML(this.labelStrength)+"\x3c/span\x3e\x3c/p\x3e");var a=b.util.siblings(this.element,".description");a.length?(a=Array.prototype.slice.call(a,-1)[0],b.util.addClass(a,"accompanying"),b.util.insertBefore(a,this.feedback)):
b.util.insertIntoAsLast(this.element.parentElement,this.feedback);this.feedbackValue=b.util.createElement('\x3cspan class\x3d"value"\x3e\x3c/span\x3e');b.util.insertIntoAsLast(this.feedback,this.feedbackValue)},checkPassword:function(){var e=a(this.element.value,this.userInput);this.feedback||this.initFeedback();b.util.removeClass(this.feedback,d);var f=c[0],g=this.labelWeak;2<e.score&&3>=e.score?(g=this.labelMediocre,f=c[1]):3<e.score&&(g=this.labelStrong,f=c[2]);b.util.addClass(this.feedback,f);
this.feedbackValue.textContent=g}})})(bw,window.zxcvbn);
(function(b){b.ui.showpassword=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){var a=this.element.getAttribute("data-label")||"Toon wachtwoord",c=this.element.id;b.util.insertAfter(this.element,'\x3cinput class\x3d"modifier" type\x3d"checkbox" id\x3d"show'+b.util.escapeHTML(c)+'"\x3e\x3clabel for\x3d"show'+b.util.escapeHTML(c)+'"\x3e'+b.util.escapeHTML(a)+"\x3c/label\x3e");this.toggler=b.util.next(this.element,'input.modifier[type\x3d"checkbox"]');this.form=b.util.parent(this.element,
"form");this.attachHandlers()},attachHandlers:function(){this.toggler.addEventListener("change",function(){this.element.type=this.toggler.checked?"text":"password"}.bind(this));this.form.addEventListener("submit",function(){this.element.type="password"}.bind(this))}})})(bw);
(function(b){b.ui.slidingitems=b.util.Class.extend({init:function(a){this.element=a;this.element.style.width="99999px";this.element.style.maxWidth="99999px";this.allowSwipe="true"!==this.element.getAttribute("data-disableswipe");this.setupNavigation();this.updatePositions();this.setupResize()},setupResize:function(){var a=this,b=0;window.addEventListener("resize",function(){b++;var c=b;setTimeout(function(){c===b&&a.updatePositions()},300)})},updatePositions:function(){this.positions=[];this.element.style.width=
"";this.element.style.maxWidth="";var a=this.element.offsetWidth,c=this.element.offsetLeft-this.stripUnits(window.getComputedStyle(this.element).paddingLeft);this.disableButton(this.nextButton);this.disableButton(this.prevButton);for(var d=b.util.children(this.element,"li"),e=null,f=d.length;-1<--f;)e=d[f],e.style.transition="none",e.style.left="",e.style.width="",e.style.width=e.offsetWidth+"px",e.style.marginRight="",e.style.marginRight=window.getComputedStyle(e).marginRight;this.element.style.width=
"99999px";this.element.style.maxWidth="99999px";var g=this;setTimeout(function(){for(var b=0,f,l=d.length,m=0;m<l;m++)e=d[m],g.positions.push(e.offsetLeft-c),f=window.getComputedStyle(e),b+=e.offsetWidth+g.stripUnits(f.marginLeft)+g.stripUnits(f.marginRight),e.style.transition="left 0.4s";b/=d.length;g.navContainer.style.display="";f=window.getComputedStyle(g.element);b=(a-g.stripUnits(f.paddingLeft)-g.stripUnits(f.paddingRight))/b;g.fullyVisibleItemsPerPage=Math.floor(b);g.allItemsPerPage=Math.ceil(b);
1>g.fullyVisibleItemsPerPage&&(g.fullyVisibleItemsPerPage=1);1>g.allItemsPerPage&&(g.allItemsPerPage=1);g.moveItems();b=g.stripUnits(g.navContainer.style.height);g.nextButton.style.top=(b-g.nextButton.offsetHeight)/2+"px";g.prevButton.style.top=(b-g.prevButton.offsetHeight)/2+"px"},0)},setupNavigation:function(){function a(b){b.target.removeEventListener("load",a);d++;var e=d;setTimeout(function(){e===d&&c.updateNavigation()},300)}var c=this;this.navContainer=document.createElement("div");b.util.addClass(this.navContainer,
"slidingnav");b.util.addClass(this.navContainer,"fadeout");this.prevButton=document.createElement("button");this.prevButton.className="prev";this.prevButton.innerHTML=this.getLabel("data-prev","previous","next");this.prevButton.addEventListener("click",function(){c.handlePrev()});this.navContainer.appendChild(this.prevButton);this.nextButton=document.createElement("button");this.nextButton.className="next";this.nextButton.innerHTML=this.getLabel("data-next","previous","next");this.nextButton.addEventListener("click",
function(){c.handleNext()});this.navContainer.appendChild(this.nextButton);this.element.parentElement.insertBefore(this.navContainer,this.element);this.touchY=this.touchX=null;this.allowSwipe&&(this.element.addEventListener("touchstart",function(a){c.handleTouchStart(a)}),this.element.addEventListener("touchmove",function(a){c.handleTouchMove(a)}));for(var d=0,e=b.util.children(this.element,"li"),f=null,g=e.length;-1<--g;)f=e[g],(f=f.querySelector("img"))&&f.addEventListener("load",a)},updateNavigation:function(){if(0===
this.element.querySelectorAll(".before, .after, .partial").length)this.navContainer.style.display="none";else{this.navContainer.style.display="";var a=b.util.children(this.element,"li"),c=this.element.querySelector(".current"),d=this.getItemIndex(c);c=b.util.getOuterHeight(c,!0);var e=d+this.allItemsPerPage;e>a.length-1&&(e=a.length-1);for(var f=d;f<e;f++){var g=a[f].offsetHeight;g>c&&(c=g)}this.element.style.height=c+"px";this.navContainer.style.height=c+"px";this.navContainer.style.top=this.element.offsetTop+
"px";0===d&&a.length<this.fullyVisibleItemsPerPage?this.disableButton(this.nextButton):(d<a.length-this.fullyVisibleItemsPerPage?this.enableButton(this.nextButton):this.disableButton(this.nextButton),0<d?this.enableButton(this.prevButton):this.disableButton(this.prevButton))}},moveItems:function(a){var c=!0;void 0===a&&(a=0,c=!1);var d=b.util.children(this.element,"li"),e=this.element.querySelector(".current");e=this.getItemIndex(e)+a;e>d.length-this.fullyVisibleItemsPerPage?e=d.length-this.fullyVisibleItemsPerPage:
0>e&&(e=0);for(var f=e+this.fullyVisibleItemsPerPage,g=e+this.allItemsPerPage,k=d.length;-1<--k;)a=d[k],b.util.removeClass(a,"current"),b.util.removeClass(a,"before"),b.util.removeClass(a,"partial"),b.util.removeClass(a,"after"),k<e?b.util.addClass(a,"before"):k===e?b.util.addClass(a,"current"):k>=f&&(k<g?b.util.addClass(a,"partial"):b.util.addClass(a,"after"));f=window.getComputedStyle(this.element).paddingLeft;a=0;void 0!==f&&0<f.length&&(a=this.stripUnits(f));f=d[e];e=a-this.positions[e]+"px";
g=d.length;for(k=0;k<g;k++)a=d[k],f===a&&a.style.left===e&&(c=!1),a.style.left=e,this.showItem(a);this.updateNavigation();c?this.listenForTransition(f):this.updateItemVisibility()},getItemIndex:function(a){for(var c,d=b.util.children(this.element,"li"),e=d.length;-1<--e;)if(c=d[e],a===c)return e;return 0},showItem:function(a){a.style.height="";a=a.children;for(var b=a.length;-1<--b;)a[b].style.display=""},hideItem:function(a){a.style.width=a.style.width||a.offsetWidth;a.style.height=a.style.height||
a.offsetHeight;a=a.children;for(var b=a.length;-1<--b;)a[b].style.display="none"},updateItemVisibility:function(){var a=this.element.querySelector(".current");a=this.getItemIndex(a);for(var c=a+this.fullyVisibleItemsPerPage,d=a+this.allItemsPerPage,e,f=b.util.children(this.element,"li"),g=f.length;-1<--g;){e=f[g];var k=e.querySelector("a");g<a||g>=c?(k.setAttribute("tabindex","-1"),g>=c&&g<=d?this.showItem(e):this.hideItem(e)):(k.removeAttribute("tabindex"),this.showItem(e))}},listenForTransition:function(a){function b(a){a=
a.target;var c=d.element.querySelector(".current");a===c&&(a.removeEventListener("webkitTransitionEnd",b),a.removeEventListener("transitionend",b),a.removeEventListener("transitionEnd",b),d.updateItemVisibility())}var d=this;a.addEventListener("webkitTransitionEnd",b);a.addEventListener("transitionend",b);a.addEventListener("transitionEnd",b)},disableButton:function(a){a.setAttribute("disabled","disabled");b.util.addClass(a,"passive")},enableButton:function(a){a.removeAttribute("disabled");b.util.removeClass(a,
"passive")},handleNext:function(){this.moveItems(1)},handlePrev:function(){this.moveItems(-1)},handleTouchStart:function(a){this.touchX=a.touches[0].clientX;this.touchY=a.touches[0].clientY},handleTouchMove:function(a){if(this.touchX&&this.touchY){var b=this.touchX-a.touches[0].clientX;Math.abs(b)>Math.abs(this.touchY-a.touches[0].clientY)&&(0<b?(a.preventDefault(),this.touchX=null,this.moveItems(this.fullyVisibleItemsPerPage)):(a.preventDefault(),this.touchY=null,this.moveItems(-this.fullyVisibleItemsPerPage)))}},
stripUnits:function(a){a=parseFloat(a.toString().replace(/(\d+\.{0,1}\d*).*/,"$1"));return isNaN(a)?0:a},getLabel:function(a,c,d){return(a=this.element.getAttribute(a))?b.util.escapeHTML(a):"nl"===document.documentElement.lang?d:c}})})(bw);
(function(b){b.ui.slidingitems2=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){this.items=b.util.children(this.element,"li");1<this.items.length&&(this.ofText="en"===document.querySelector("html").getAttribute("lang")?"of":"van",this.LONGDISTANCE_SPEED_CUTOFF=500,this.FADEOUT_WIDTH=30,this.navigationCreated=this.currentlySliding=this.canHavePartialLeftItem=this.narrowItems=!1,this.activeItemIndex=0,this.storedItemWidth,this.incompleteImages=0,this.xDown=this.yDown=
null,this.nrOfItemsInView=this.nrOfItemsMostlyInView=this.nrOfItemsCompletelyInView=this.nrOfItemsCompletelyInViewWithoutNav=1,this.heightCertain="true"===this.element.getAttribute("data-heightcertain"),b.util.hasClass(this.element,"grid-list")&&(this.canHavePartialLeftItem=!0,b.util.hasClass(this.element,"narrow")&&(this.narrowItems=!0)),this.setItemVisibility(),this.createNavigation(),this.updateNavigation(),window.addEventListener("resize",b.util.debounce(125,!1,this.doResize).bind(this)),this.element.addEventListener("touchstart",
this.handleTouchStart.bind(this)),this.element.addEventListener("touchmove",this.determineSwipeDirection.bind(this)),this.element.addEventListener("swipeRight",this.navigatePrev.bind(this)),this.element.addEventListener("swipeLeft",this.navigateNext.bind(this)))},doResize:function(){this.setItemVisibility();this.updateNavigation()},calculateItemsInView:function(){var a=b.util.getExactWidth(this.element.parentElement),c=b.util.getExactOuterWidth(this.items[this.activeItemIndex],!0);if(0<a&&0<c)if(this.canHavePartialLeftItem){var d=
0;0<this.activeItemIndex&&this.canHavePartialLeftItem&&(d=b.util.getExactOuterWidth(this.items[this.activeItemIndex-1],!0));var e=parseFloat(window.getComputedStyle(this.items[this.activeItemIndex]).marginRight);this.storedItemWidth=c;this.nrOfItemsInView=Math.ceil((a+e-(d+this.FADEOUT_WIDTH))/c);this.nrOfItemsMostlyInView=Math.round((a+e-(d+this.FADEOUT_WIDTH))/c);this.nrOfItemsCompletelyInView=Math.floor((a+e-(d+this.FADEOUT_WIDTH))/c);this.nrOfItemsCompletelyInViewWithoutNav=Math.floor((a+2*e-
d)/c);this.activeItemIndex+this.nrOfItemsCompletelyInViewWithoutNav==this.items.length&&(this.nrOfItemsMostlyInView=this.nrOfItemsCompletelyInViewWithoutNav)}else this.storedItemWidth=c=b.util.getExactOuterWidth(this.items[this.activeItemIndex],!1),this.nrOfItemsInView=a>2*c?this.nrOfItemsMostlyInView=this.nrOfItemsCompletelyInView=this.nrOfItemsCompletelyInViewWithoutNav=2:this.nrOfItemsMostlyInView=this.nrOfItemsCompletelyInView=this.nrOfItemsCompletelyInViewWithoutNav=1},setItemVisibility:function(){this.calculateItemsInView();
this.items.forEach(function(a,c){c<this.activeItemIndex-1||c>=this.activeItemIndex+this.nrOfItemsInView?b.util.addClass(a,"hidden"):(b.util.removeClass(a,"hidden"),null!==a.querySelector("a")&&a.querySelector("a").removeAttribute("tabindex"),a.removeAttribute("aria-hidden"),c==this.activeItemIndex-1&&(this.canHavePartialLeftItem?b.util.getOuterWidth(a,!0)-(parseFloat(window.getComputedStyle(a).marginRight)+this.FADEOUT_WIDTH)<this.storedItemWidth/2&&(null!==a.querySelector("a")&&a.querySelector("a").setAttribute("tabindex",
"-1"),a.setAttribute("aria-hidden","true")):b.util.addClass(a,"hidden")),c==this.activeItemIndex-1+this.nrOfItemsInView&&this.nrOfItemsInView>this.nrOfItemsMostlyInView&&(null!==a.querySelector("a")&&a.querySelector("a").setAttribute("tabindex","-1"),a.setAttribute("aria-hidden","true")))}.bind(this))},createNavigation:function(){if(!this.navigationCreated&&this.nrOfItemsCompletelyInView<this.items.length){this.navigationCreated=!0;var a=this.element.getAttribute("data-prev"),c=this.element.getAttribute("data-next"),
d=document.querySelector("html").getAttribute("lang"),e="en"===d?"previous":"vorige";d="en"===d?"next":"volgende";a=a?b.util.escapeHTML(a):e;c=c?b.util.escapeHTML(c):d;b.util.addClass(this.items[0],"current");b.util.addClass(this.element,"interactive");b.util.insertBefore(this.element,'\x3cdiv class\x3d"slidingnav fadeout"\x3e\x3cbutton class\x3d"prev passive" disabled\x3e'+a+'\x3c/button\x3e\x3cbutton class\x3d"next"\x3e'+c+"\x3c/button\x3e\x3c/div\x3e");this.nav=b.util.previousSiblings(this.element,
".slidingnav")[0];a=parseFloat(window.getComputedStyle(this.element).marginTop);0!=a&&(this.nav.style.marginTop=a+"px");(this.navPrev=b.util.children(this.nav,"button.prev")[0])&&this.navPrev.addEventListener("click",this.navigatePrev.bind(this));(this.navNext=b.util.children(this.nav,"button.next")[0])&&this.navNext.addEventListener("click",this.navigateNext.bind(this))}},updateNavigation:function(){this.navigationCreated||this.createNavigation();this.navigationCreated&&(0==this.activeItemIndex&&
this.nrOfItemsCompletelyInViewWithoutNav>=this.items.length?(b.util.addClass(this.nav,"hidden"),b.util.removeClass(this.element,"sliding"),this.setHeights()):(b.util.addClass(this.element,"sliding"),this.setHeights(),0===this.activeItemIndex?(this.setButtonState(this.navPrev,!1),b.util.removeClass(this.nav,"fadein")):(this.setButtonState(this.navPrev,!0),b.util.addClass(this.nav,"fadein")),this.activeItemIndex>=this.items.length-this.nrOfItemsCompletelyInViewWithoutNav?(this.setButtonState(this.navNext,
!1),b.util.removeClass(this.nav,"fadeout")):(this.setButtonState(this.navNext,!0),b.util.addClass(this.nav,"fadeout")),b.util.removeClass(this.nav,"hidden")))},setHeights:function(){var a=0,c=0,d=0,e=50;this.items.forEach(function(e,g){var f=b.util.getOuterHeight(e,!0);f>c&&(c=f);if(!a||f<a&&0<f)a=f;g>=this.activeItemIndex&&g<this.activeItemIndex+this.nrOfItemsMostlyInView&&(d=Math.max(d,f));this.heightCertain||(e=e.querySelector("img.viz"))&&!e.complete&&(this.incompleteImages++,g=function(){this.incompleteImages--;
0==this.incompleteImages&&this.setHeights()}.bind(this),e.addEventListener("load",g),e.addEventListener("error",g))}.bind(this));a<e&&(a=e);e=Math.min(Math.floor((a+c)/4)-23,Math.max(20,a-46));this.element.style.height=d+"px";this.nav.style.height=d+"px";b.util.children(this.nav,"button").forEach(function(a){a.style.top=e+"px"})},setButtonState:function(a,c){c?(b.util.removeClass(a,"passive"),a.removeAttribute("disabled")):(b.util.addClass(a,"passive"),a.setAttribute("disabled","disabled"))},handleTouchStart:function(a){this.xDown=
a.touches[0].clientX;this.yDown=a.touches[0].clientY},determineSwipeDirection:function(a){if(this.xDown&&this.yDown){var c=this.xDown-a.touches[0].clientX;Math.abs(c)>Math.abs(this.yDown-a.touches[0].clientY)&&(a.preventDefault(),b.util.dispatchEvent(this.element,0<c?"swipeLeft":"swipeRight"));this.yDown=this.xDown=null}},navigateNext:function(a){!this.currentlySliding&&this.activeItemIndex<this.items.length-this.nrOfItemsCompletelyInViewWithoutNav&&(this.currentlySliding=!0,this.next("click"!==a.type),
this.blurOnLeave(a))},navigatePrev:function(a){!this.currentlySliding&&0<this.activeItemIndex&&(this.currentlySliding=!0,this.prev("click"!==a.type),this.blurOnLeave(a))},blurOnLeave:function(a){if("click"===a.type){var b=function(a){a.target.blur();a.target.removeEventListener("mouseleave",b)};a.target.addEventListener("mouseleave",b)}},next:function(a){var c=1;a&&1<this.nrOfItemsCompletelyInView&&(c=this.nrOfItemsCompletelyInView,0===this.activeItemIndex&&this.canHavePartialLeftItem&&--c,a=this.items.length-
this.nrOfItemsCompletelyInViewWithoutNav,this.activeItemIndex+c>a&&(c=a-this.activeItemIndex));var d=this.activeItemIndex+c;0===this.activeItemIndex&&this.canHavePartialLeftItem&&(this.narrowItems||1!=this.nrOfItemsCompletelyInView&&this.items.length!=this.nrOfItemsMostlyInView?++d:(c=0,d=1));this.revealItems(d,d+this.nrOfItemsInView);var e="moveleft-"+c;0===this.activeItemIndex&&(this.canHavePartialLeftItem&&b.util.addClass(this.items[0],"partial-left"),b.util.addClass(this.nav,"fadein"));this.setSpeed(c);
this.transition(this.element,e,"",function(a){this.canHavePartialLeftItem&&(0<this.activeItemIndex?b.util.removeClass(this.items[this.activeItemIndex-1],"partial-left"):b.util.removeClass(this.items[0],"partial-left"),b.util.addClass(this.items[d-1],"partial-left"));b.util.addClass(this.items[d],"current");b.util.removeClass(this.items[this.activeItemIndex],"current");b.util.removeClass(this.element,e);this.removeSpeed();this.activeItemIndex=d;this.setItemVisibility();this.updateNavigation()}.bind(this))},
prev:function(a){var c=1;a&&1<this.nrOfItemsCompletelyInView&&(c=this.nrOfItemsCompletelyInView,this.canHavePartialLeftItem&&this.activeItemIndex<=c?c=this.activeItemIndex-1:this.activeItemIndex<c&&(c=this.activeItemIndex));var d=this.activeItemIndex-c;this.canHavePartialLeftItem&&(1===d&&(this.narrowItems||1<this.nrOfItemsCompletelyInView)&&(d=0),1===this.activeItemIndex&&(c=0));this.revealItems(this.canHavePartialLeftItem?d-1:d,this.activeItemIndex);a=this.element;var e="moveleft-"+c;1===this.activeItemIndex&&
this.canHavePartialLeftItem?(a=this.items[0],e="partial-left"):(b.util.addClass(this.element,e),this.canHavePartialLeftItem&&(b.util.removeClass(this.items[this.activeItemIndex-1],"partial-left"),0<d&&b.util.addClass(this.items[d-1],"partial-left")));0===d&&this.setButtonState(this.navPrev,!1);b.util.addClass(this.nav,"fadeout");b.util.removeClass(this.items[this.activeItemIndex],"current");b.util.addClass(this.items[d],"current");this.setSpeed(c);this.transition(a,"",e,function(a){this.removeSpeed();
this.activeItemIndex=d;this.setItemVisibility();this.updateNavigation()}.bind(this))},revealItems:function(a,c){this.items.forEach(function(d,e){e>=a&&e<c&&b.util.removeClass(d,"hidden")}.bind(this))},setSpeed:function(a){a<=this.nrOfItemsInView/3?b.util.addClass(this.element,"short"):a>=2*this.nrOfItemsInView/3&&a*this.storedItemWidth>this.LONGDISTANCE_SPEED_CUTOFF&&b.util.addClass(this.element,"long")},removeSpeed:function(){b.util.removeClass(this.element,"short");b.util.removeClass(this.element,
"long")},transition:function(a,c,d,e){b.util.forceReflow(a);b.util.addClass(this.element,"animating");var f=["webkitTransitionEnd","transitionend","transitionEnd"],g=function(){clearTimeout(this.fallbackTimeout);f.forEach(function(b){a.removeEventListener(b,g)});b.util.removeClass(this.element,"animating");e&&e(a);this.currentlySliding=!1}.bind(this);f.forEach(function(b){a.addEventListener(b,g)});this.fallbackTimeout=setTimeout(function(){g()}.bind(this),750);c&&b.util.addClass(a,c);d&&b.util.removeClass(a,
d)}})})(bw);
(function(b){b.bnl.zoekincatalogus=b.util.Class.extend({init:function(a){this.element=a;this.handleKeyDownListener=this.handleKeyDown.bind(this);this.materialListActionsListener=this.materialListActions.bind(this);this.handleWindowClickCloseMaterialListListener=this.handleWindowClickCloseMaterialList.bind(this);this.handleWindowClickCloseResultsContainerListener=this.handleWindowClickCloseResultsContainer.bind(this);this.autoCompleteListener=this.autoComplete.bind(this);this.bindWindowEventListener=this.bindWindowEvent.bind(this);
this.focusChangeListener=this.focusChange.bind(this);this.handleClickListener=this.handleClick.bind(this);this.handleBlurListener=this.handleBlur.bind(this);this.toggleMaterialListListener=this.toggleMaterialList.bind(this);this.selectMaterialFilterListener=this.selectMaterialFilter.bind(this);this.setup()},setup:function(){this.queryValue="";this.queryTimeOut=0;if(this.query=this.element.querySelector('input[name\x3d"query"]')){this.submit=this.element.querySelector("button.submit");this.where=this.element.querySelector("div.where");
this.altWhere=this.element.querySelector('input[type\x3d"hidden"][name\x3d"where"]');this.queryWrapper=this.query.parentElement;this.autoSuggest=this.query.getAttribute("data-autosuggest");this.materialParameter="d";this.catalogSearchEnabled=this.websiteSearchEnabled=!1;if(this.where)this.catalogSearchEnabled=this.websiteSearchEnabled=!0;else if(this.altWhere){var a=this.altWhere.value;"website"===a?this.websiteSearchEnabled=!0:"catalog"===a&&(this.catalogSearchEnabled=!0)}if(this.initMaterialFilter()||
this.autoSuggest)b.util.addClass(this.element,"interactive"),this.autoSuggest&&this.query.addEventListener("keyup",this.autoCompleteListener),this.query.addEventListener("focusin",this.bindWindowEventListener),this.query.addEventListener("focusin",this.focusChangeListener),this.submit.addEventListener("focusin",this.focusChangeListener)}},bindWindowEvent:function(a){window.removeEventListener("keydown",this.handleKeyDownListener);window.removeEventListener("keydown",this.materialListActionsListener);
this.autoSuggest&&"query"===a.currentTarget.getAttribute("name")?window.addEventListener("keydown",this.handleKeyDownListener):this.material_filter&&window.addEventListener("keydown",this.materialListActionsListener)},initMaterialFilter:function(){var a="",c="",d=JSON.parse(this.query.getAttribute("data-materials")||JSON.stringify([])),e=JSON.parse(this.query.getAttribute("data-websiteoptions")||JSON.stringify([])),f=!0,g=!0;this.catalogSearchEnabled&&d&&d.length||(f=!1);this.websiteSearchEnabled&&
e&&e.length||(g=!1);if(!f&&!g)return!1;var k=this.query.getAttribute("data-active");g=this.query.getAttribute("data-catalog-label")?this.query.getAttribute("data-catalog-label"):"Catalogus";var h=this.query.getAttribute("data-website-label")?this.query.getAttribute("data-website-label"):"Website",l=this.query.getAttribute("data-prefilter-label")?this.query.getAttribute("data-prefilter-label"):"Kies de collectie om te doorzoeken. Nu: ",m=null;if(this.catalogSearchEnabled&&f){for(f=0;f<d.length;f++){var p=
d[f].label,n=d[f].value,q=p.toLowerCase();c+='\x3cinput type\x3d"radio" id\x3d"bnl-filter-'+b.util.escapeHTML(q)+'" name\x3d"'+this.materialParameter+'" value\x3d"'+b.util.escapeHTML(n)+'"';p===k&&(c+=" checked",m=p);c+='\x3e\x3clabel for\x3d"bnl-filter-'+b.util.escapeHTML(q)+'"\x3e'+b.util.escapeHTML(p)+"\x3c/label\x3e"}this.websiteSearchEnabled&&(c+="\x3chr\x3e")}if(this.websiteSearchEnabled){d="";for(f=0;f<e.length;f++)p=e[f].label,n=e[f].value,q=p.toLowerCase(),d+='\x3cinput type\x3d"radio" id\x3d"bnl-filter-website-'+
b.util.escapeHTML(q)+'" name\x3d"'+this.materialParameter+'" value\x3d"'+b.util.escapeHTML(n)+'"',p===k&&(d+=" checked",m=p),d+='\x3e\x3clabel for\x3d"bnl-filter-website-'+b.util.escapeHTML(q)+'"\x3e'+b.util.escapeHTML(p)+"\x3c/label\x3e";"website"===k||!this.catalogSearchEnabled&&!m?(c+='\x3cinput type\x3d"radio" id\x3d"bnl-filter-website" name\x3d"'+this.materialParameter+'" value\x3d"" checked\x3e',m=h):c+='\x3cinput type\x3d"radio" id\x3d"bnl-filter-website" name\x3d"'+this.materialParameter+
'" value\x3d""\x3e';c+='\x3clabel for\x3d"bnl-filter-website"\x3e'+b.util.escapeHTML(h)+"\x3c/label\x3e";0<d.length&&(c+="\x3chr\x3e"+d)}this.catalogSearchEnabled&&(e='\x3cinput type\x3d"radio" id\x3d"bnl-filter-catalogus" name\x3d"'+this.materialParameter+'" value\x3d""',m||(e+=" checked",m=g),e+='\x3e\x3clabel for\x3d"bnl-filter-catalogus"\x3e'+b.util.escapeHTML(g)+"\x3c/label\x3e\x3chr\x3e",c=e+c);a+='\x3cbutton type\x3d"button" class\x3d"default"\x3e\x3cspan class\x3d"struct"\x3e'+b.util.escapeHTML(l)+
'\x3c/span\x3e\x3cspan class\x3d"label"\x3e'+b.util.escapeHTML(m)+"\x3c/span\x3e\x3c/button\x3e";a=a+'\x3cdiv class\x3d"material-list"\x3e'+c+"\x3c/div\x3e";this.material_filter=b.util.createElement('\x3cdiv class\x3d"material-filter" data-open\x3d"false" /\x3e');this.material_filter.innerHTML=a;b.util.insertIntoAsLast(this.queryWrapper,this.material_filter);this.material_list=this.material_filter.querySelector(".material-list");this.button=this.material_filter.button=this.material_filter.querySelector("button");
this.button.addEventListener("click",this.materialListActionsListener);this.button.addEventListener("focusin",this.bindWindowEventListener);a=this.material_filter.querySelectorAll("[type\x3dradio]");a.forEach(function(a){a.addEventListener("change",this.selectMaterialFilterListener)}.bind(this));this.material_filter.querySelectorAll("label").forEach(function(a){a.addEventListener("click",this.toggleMaterialListListener)}.bind(this));a=b.util.filter(a,":checked");0<a.length?b.util.addClass(b.util.next(a[0],
"label"),"current"):(this.material_filter.initial_state=!0,this.material_filter.querySelector("[type\x3dradio]:first").click());return!0},focusChange:function(){this.material_filter&&"true"===this.material_filter.getAttribute("data-open")&&this.closeMaterialList()},materialListActions:function(a){if("keydown"!==a.type||!b.util.matches(this.material_filter.button,":focus")&&"true"!==this.material_filter.getAttribute("data-open"))"click"===a.type&&(a.preventDefault(),this.toggleMaterialList(),this.material_filter.button.focus());
else switch(a.keyCode){case 38:case 40:a.preventDefault();"false"===this.material_filter.getAttribute("data-open")?this.toggleMaterialList(!0):this.browseMaterialList(a.keyCode);break;case 13:"A"!==a.target.nodeName&&a.preventDefault(),this.toggleMaterialList()}},handleWindowClickCloseMaterialList:function(a){var c=b.util.parent(a.target,"div.material-filter");b.util.matches(a.target,"div.material-filter")||c||this.toggleMaterialList()},toggleMaterialList:function(a){!0===a||"true"!==this.material_filter.getAttribute("data-open")?
(b.util.addClass(this.material_list,"open"),this.material_filter.setAttribute("data-open","true"),window.addEventListener("click",this.handleWindowClickCloseMaterialListListener)):this.closeMaterialList()},closeMaterialList:function(){b.util.removeClass(this.material_list,"open");this.material_filter.setAttribute("data-open","false");window.removeEventListener("click",this.handleWindowClickCloseMaterialListListener)},browseMaterialList:function(a){var c=this.material_filter.querySelector("[type\x3dradio]:checked");
if(38===a)for(a=c.previousElementSibling;a;){if(b.util.matches(a,"input")){a.click();break}a=a.previousElementSibling}else if(40===a)for(a=c.nextElementSibling;a;){if(b.util.matches(a,"input")){a.click();break}a=a.nextElementSibling}},selectMaterialFilter:function(a){this.material_filter.querySelectorAll("label.current").forEach(function(a){b.util.removeClass(a,"current")});a=a.target;var c=b.util.next(a,"label");b.util.addClass(c,"current");this.material_filter.button.querySelector(".label").textContent=
c.textContent;this.material_filter.initial_state?this.material_filter.initial_state=!1:this.material_filter.button.focus();this.where&&("bnl-filter-website"===a.getAttribute("id").substr(0,18)?this.where.querySelector("#bnl-where-website").checked=!0:this.where.querySelector("#bnl-where-catalog").checked=!0)},autoComplete:function(a){var b=this.material_filter?this.material_filter.querySelector(":checked"):null,d=b?b.getAttribute("id"):null,e=document.body.querySelectorAll("#bnl-filter-website:checked, #bnl-where-website:checked");
if(!this.autoSuggest||0<e.length||"bnl-filter-website"===d)this.query.setAttribute("autocomplete","on");else{a.preventDefault();d=encodeURIComponent(this.query.value);var f="all";"e-content"===this.autoSuggest&&(f=this.convertFilterToTypeParameterValue(b));f=encodeURIComponent(f);this.queryValue!==d&&13!==a.keyCode&&9!==a.keyCode&&(this.queryValue=d,clearTimeout(this.queryTimeOut),2<this.queryValue.length?this.queryTimeOut=setTimeout(function(){this.getResult(this.queryValue,f)}.bind(this),100):this.resetAutoComplete());
this.query.setAttribute("autocomplete","off")}},convertFilterToTypeParameterValue:function(a){var b=null;a&&((b=this.convertAttributeToTypeParameterValue(a.getAttribute("id")))||(b=this.convertAttributeToTypeParameterValue(a.getAttribute("value"))));b||(b="all");return b},convertAttributeToTypeParameterValue:function(a){if(a){a=a.toLowerCase();if(a.includes("e-book"))return"ebook";if(a.includes("luisterboek"))return"luisterboek"}return null},resetAutoComplete:function(){window.removeEventListener("click",
this.handleWindowClickCloseResultsContainerListener);this.resultsContainer&&(this.resultsContainer.innerHtml="",this.resultsContainer.style.display="none")},getResult:function(a,c){b.util.getJSON("https://zoek.bnlapi.nl/ZoekFeed?term\x3d"+a+"\x26type\x3d"+c,function(b){a===this.queryValue&&this.parseResult(b)}.bind(this),function(a){})},handleWindowClickCloseResultsContainer:function(a){b.util.parent(a.target,"div.results-container")||this.resetAutoComplete()},parseResult:function(a){this.resultsContainer?
this.resultsContainer.style.display="block":(b.util.insertAfter(this.query,'\x3cdiv class\x3d"results-container" /\x3e'),this.resultsContainer=document.body.querySelector("div.results-container"));0<a.length?(this.resultsContainer.innerHTML=this.parseItems(a),this.resultsContainer.querySelectorAll("label").forEach(function(a){a.addEventListener("click",this.handleClickListener)}.bind(this))):this.resetAutoComplete();window.addEventListener("click",this.handleWindowClickCloseResultsContainerListener);
this.resultsContainer.querySelectorAll("input").forEach(function(a){a.addEventListener("click",this.handleBlurListener)}.bind(this))},handleBlur:function(){var a=document.body.querySelector(":focus");setTimeout(function(){a&&(!a===this.query||!a===this.resultsContainer)&&this.resultsContainer&&0===this.resultsContainer.querySelector(":focus").length&&this.resetAutoComplete()}.bind(this),0)},handleKeyDown:function(a){this.handleBlur();switch(a.keyCode){case 38:case 40:b.util.matches(this.query,":focus")&&
(a.preventDefault(),this.browseSuggestionList(a.keyCode));break;case 32:case 13:if(this.resultsContainer&&this.resultsContainer.querySelector("input:focus")){a.preventDefault();if(a=this.resultsContainer.querySelector("input:checked + label").textContent)a=a.replace(this.resultsContainer.querySelector("input:checked + label \x3e span").textContent,""),this.query.value=a;this.resetAutoComplete();this.submit.click()}break;case 27:this.resetAutoComplete()}},handleClick:function(a){this.query.value=a.currentTarget.textContent.replace(a.currentTarget.querySelector("span").textContent,
"");this.query.focus();this.resetAutoComplete();this.submit.click()},browseSuggestionList:function(a){38===a&&(this.resultsContainer.querySelectorAll("input")[this.resultsContainer.querySelectorAll("input").length-1].focus(),this.resultsContainer.querySelectorAll("input")[this.resultsContainer.querySelectorAll("input").length-1].checked=!0);40===a&&(this.resultsContainer.querySelectorAll("input")[0].focus(),this.resultsContainer.querySelectorAll("input")[0].checked=!0)},parseItems:function(a){for(var c=
"",d=20<a.length?20:a.length,e=0;e<d;e++){var f=a[e],g=f.replace(/ \(\d+ (e-books|luisterboeken|titels)\)/,"");f=f.substring(g.length);c+='\x3cinput type\x3d"radio" name\x3d"suggestion" id\x3d"rl'+e+'"\x3e\x3clabel for\x3d"rl'+e+'"\x3e'+b.util.escapeHTML(g)+"\x3cspan\x3e"+b.util.escapeHTML(f)+"\x3c/span\x3e\x3c/label\x3e"}return c}})})(bw);
(function(b){b.bnl.browsealoud=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){this.loadtext=this.element.getAttribute("data-browsealoudlabel");this.metanav=b.util.children(this.element,"ul.metanav")[0];this.newurl=b.util.escapeHTML(b.util.replaceOrAddToQueryString(window.location.search,"readaloud","true"));if(this.metanav){var a=b.util.children(this.metanav,"li.last");a.length?b.util.insertBefore(a[0],'\x3cli\x3e\x3ca class\x3d"speaker" href\x3d"'+this.newurl+
'"\x3e'+b.util.escapeHTML(this.loadtext)+"\x3c/a\x3e\x3c/li\x3e"):b.util.insertIntoAsLast(this.metanav,'\x3cli\x3e\x3ca class\x3d"speaker" href\x3d"'+this.newurl+'"\x3e'+b.util.escapeHTML(this.loadtext)+"\x3c/a\x3e\x3c/li\x3e")}}})})(bw);
(function(b){b.bnl.tracking=b.util.Class.extend({cookieName:"",message:"",changePreferencesMessage:"",notification:"",useAdWords:!1,useFacebook:!1,useGoogleAnalytics:!1,useAdobeAnalytics:!1,revokeCookiePrefixes:["__utm","s_","_sat_"],revokeCookiesRequestUrl:"https://www.bibliotheek.nl/remove.cookies",init:function(a){this.element=a;this.setup()},setup:function(){this.ignoreH1=this.closeable=this.useBar();if("no"===this.element.getAttribute("data-givenotice"))this.loadTrackingScripts();else{this.useAdWords=
"true"===this.element.getAttribute("data-adwords");this.useFacebook="true"===this.element.getAttribute("data-facebook");this.useGoogleAnalytics=null!==this.element.getAttribute("data-id");var a=this.element.getAttribute("data-adobe");this.useAdobeAnalytics=null!==a&&0<a.length;this.buildCookieInfoMessage();this.useFacebook&&this.useAdWords?(this.notification='\x3cp\x3eDeze website gebruikt cookies om het effect van advertenties via Google en Facebook te meten en om statistieken te maken zodat we de gebruikservaring kunnen verbeteren.\x3c/p\x3e\x3cp\x3e\x3cbutton class\x3d"button tertiary"\x3eLees hier meer over cookies\x3c/button\x3e\x3c/p\x3e\x3cp class\x3d"buttons"\x3e\x3cbutton class\x3d"button primary ok"\x3eAkkoord\x3c/button\x3e\x3cbutton class\x3d"button quaternary notok"\x3eNiet akkoord\x3c/button\x3e\x3c/p\x3e',
this.cookieName="trackingapprovedv3f",this.changePreferencesMessage='\x3cdiv class\x3d"cookie-permission-container"\x3e\x3ch3 class\x3d"struct"\x3eCookie toestemming wijzigen\x3c/h3\x3e\x3cp\x3e\x3cspan\x3eJe gaf toestemming voor het plaatsen van cookies voor statistieken en advertenties van Google en Facebook.\x3c/span\x3e \x3cbutton class\x3d"button quarternary cookie-permission"\x3eTrek je toestemming in\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e'):this.useAdWords?(this.notification='\x3cp\x3eDeze website gebruikt cookies om het effect van advertenties via Google te meten en om statistieken te maken zodat we de gebruikservaring kunnen verbeteren.\x3c/p\x3e\x3cp\x3e\x3cbutton class\x3d"button tertiary"\x3eLees hier meer over cookies\x3c/button\x3e\x3c/p\x3e\x3cp class\x3d"buttons"\x3e\x3cbutton class\x3d"button primary ok"\x3eAkkoord\x3c/button\x3e\x3cbutton class\x3d"button quaternary notok"\x3eNiet akkoord\x3c/button\x3e\x3c/p\x3e',
this.cookieName="trackingapprovedv3a",this.changePreferencesMessage='\x3cdiv class\x3d"cookie-permission-container"\x3e\x3ch3 class\x3d"struct"\x3eCookie toestemming wijzigen\x3c/h3\x3e\x3cp\x3e\x3cspan\x3eJe gaf toestemming voor het plaatsen van cookies voor statistieken en advertenties van Google.\x3c/span\x3e \x3cbutton class\x3d"button quarternary cookie-permission"\x3eTrek je toestemming in\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e'):(this.notification='\x3cp\x3eDeze website gebruikt cookies om statistieken te maken zodat we de gebruikservaring kunnen verbeteren.\x3c/p\x3e\x3cp\x3e\x3cbutton class\x3d"button tertiary"\x3eLees hier meer over cookies\x3c/button\x3e\x3c/p\x3e\x3cp class\x3d"buttons"\x3e\x3cbutton class\x3d"button primary ok"\x3eAkkoord\x3c/button\x3e\x3cbutton class\x3d"button quaternary notok"\x3eNiet akkoord\x3c/button\x3e\x3c/p\x3e',
this.cookieName="trackingapprovedv3",this.changePreferencesMessage='\x3cdiv class\x3d"cookie-permission-container"\x3e\x3ch3 class\x3d"struct"\x3eCookie toestemming wijzigen\x3c/h3\x3e\x3cp\x3e\x3cspan\x3eJe gaf toestemming voor het plaatsen van cookies voor statistieken.\x3c/span\x3e \x3cbutton class\x3d"button quarternary cookie-permission"\x3eTrek je toestemming in\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e');this.setupCookie()}},buildCookieInfoMessage:function(){this.message='\x3cdiv class\x3d"richtext"\x3e';
this.message+="\x3ch3\x3eWat zijn cookies?\x3c/h3\x3e\x3cp\x3eCookies zijn kleine stukjes informatie die browsers op computers of andere apparaten plaatsen. Cookies bevatten meestal informatie over het bezoek aan websites. Deze informatie wordt bij elk volgend bezoek weer teruggestuurd, waardoor bezoeken aan elkaar gerelateerd kunnen worden. De inhoud van de cookies waarvoor wij toestemming vragen, wordt bepaald door de partijen waarmee wij samenwerken.\x3c/p\x3e";this.useGoogleAnalytics&&this.useAdobeAnalytics?
this.message+='\x3ch3\x3eCookies voor analyse\x3c/h3\x3e\x3cp\x3eOm het gebruik van onze websites te meten gebruiken wij de diensten Google Analytics en Adobe Analytics. Daarmee wordt onder meer bijgehouden hoe bezoekers onze websites gebruiken, welke pagina\u2019s zij bezoeken, waar zij vandaan komen, waar zij op klikken en welke browser zij gebruiken. Met deze informatie kunnen wij het gebruiksgemak en de kwaliteit van onze websites verbeteren en kunnen we bezoekersstatistieken opstellen.\x3c/p\x3e\x3cp\x3eGoogle en Adobe kunnen als leveranciers van deze diensten de via de cookies verkregen informatie gebruiken voor hun eigen producten en diensten. Zij kunnen deze informatie aan derden doorgeven wanneer zij hiertoe wettelijk worden verplicht, of voor zover derden de informatie namens of in opdracht van Google of Adobe verwerken. Wij hebben hier geen invloed op. Zie ook het privacybeleid van \x3ca href\x3d"https://policies.google.com/technologies/partner-sites?hl\x3dnl"\x3eGoogle Analytics\x3c/a\x3e of van \x3ca href\x3d"https://www.adobe.com/nl/privacy/experience-cloud.html"\x3eAdobe Analytics\x3c/a\x3e.\x3c/p\x3e':
this.useAdobeAnalytics?this.message+='\x3ch3\x3eCookies voor analyse\x3c/h3\x3e\x3cp\x3eOm het gebruik van onze websites te meten gebruiken wij de dienst Adobe Analytics. Daarmee wordt onder meer bijgehouden hoe bezoekers onze websites gebruiken, welke pagina\u2019s zij bezoeken, waar zij vandaan komen, waar zij op klikken en welke browser zij gebruiken. Met deze informatie kunnen wij het gebruiksgemak en de kwaliteit van onze websites verbeteren en kunnen we bezoekersstatistieken opstellen.\x3c/p\x3e\x3cp\x3eAdobe kan als leverancier van deze dienst de via de cookies verkregen informatie gebruiken voor hun eigen producten en diensten. Zij kunnen deze informatie aan derden doorgeven wanneer zij hiertoe wettelijk worden verplicht, of voor zover derden de informatie namens of in opdracht van Adobe verwerken. Wij hebben hier geen invloed op. Zie ook het privacybeleid van \x3ca href\x3d"https://www.adobe.com/nl/privacy/experience-cloud.html"\x3eAdobe Analytics\x3c/a\x3e.\x3c/p\x3e':
this.useGoogleAnalytics&&(this.message+='\x3ch3\x3eCookies voor analyse\x3c/h3\x3e\x3cp\x3eOm het gebruik van onze websites te meten gebruiken wij de dienst Google Analytics. Daarmee wordt onder meer bijgehouden hoe bezoekers onze websites gebruiken, welke pagina\u2019s zij bezoeken, waar zij vandaan komen, waar zij op klikken en welke browser zij gebruiken. Met deze informatie kunnen wij het gebruiksgemak en de kwaliteit van onze websites verbeteren en kunnen we bezoekersstatistieken opstellen.\x3c/p\x3e\x3cp\x3eGoogle kan als leverancier van deze dienst de via de cookies verkregen informatie gebruiken voor hun eigen producten en diensten. Zij kunnen deze informatie aan derden doorgeven wanneer zij hiertoe wettelijk worden verplicht, of voor zover derden de informatie namens of in opdracht van Google verwerken. Wij hebben hier geen invloed op. Zie ook het privacybeleid van \x3ca href\x3d"https://policies.google.com/technologies/partner-sites?hl\x3dnl"\x3eGoogle Analytics\x3c/a\x3e.\x3c/p\x3e');
this.useAdWords&&(this.message+='\x3ch3\x3eAdvertentiecookies\x3c/h3\x3e\x3cp\x3eWij kunnen met Google Adwords advertenties plaatsen in de Google-zoekmachine en op andere websites. Er wordt een cookie van Google Adwords geplaatst zodra op zo\u2019n advertentie wordt geklikt. Het doel van onze advertenties is om degene die erop klikt naar een specifieke pagina of dienst te leiden. Voor iedere bezoeker van onze website die zo\u2019n specifieke pagina of dienst bereikt, vragen wij een pixel van Google Adwords op. Als er een cookie van Google Adwords is gezet, wordt deze met de pixel meegestuurd. Zo kunnen wij en Google het bereikte doel relateren aan het klikken op de advertentie. Wij gebruiken de met Google Adwords verkregen informatie ook om onze advertenties effectiever te maken. Google kan deze informatie ook relateren aan de informatie die is verkregen met Google Analytics. Zie het \x3ca href\x3d"https://policies.google.com/technologies/partner-sites?hl\x3dnl"\x3eprivacybeleid van Google\x3c/a\x3e. De Google Adwords cookie wordt 90 dagen bewaard. \x3c/p\x3e');
this.useFacebook&&(this.message+='\x3ch3\x3eFacebook\x3c/h3\x3e\x3cp\x3eWij kunnen advertenties plaatsen op Facebook. Facebook volgt het klikken op zo\u2019n advertentie. Het doel van onze advertenties is om degene die erop klikt naar een specifieke pagina of dienst te leiden. Voor iedere bezoeker van onze website die zo\u2019n specifieke pagina of dienst bereikt, en van wie wij gedetecteerd hebben dat die van Facebook komt, vragen wij een pixel van Facebook op. Alle cookies van Facebook worden met het opvragen van deze pixel meegestuurd. Zo kunnen wij en Facebook het bereikte doel relateren aan het klikken op de advertentie. Wij gebruiken de informatie die we van Facebook krijgen ook om onze advertenties effectiever te maken.\x3c/p\x3e\x3cp\x3eAls een van Facebooks trackingcookies niet aanwezig is op het moment dat we de pixel opvragen, plaatst Facebook deze cookie opnieuw. Deze cookie stuurt Facebook mee naar alle volgende bezoeken op de Facebookwebsite en op alle andere websites die Facebookfunctionaliteiten gebruiken. Facebook kan deze informatie relateren aan alle andere informatie die Facebook verzamelt. Zie het \x3ca href\x3d"https://nl-nl.facebook.com/privacy/explanation"\x3eprivacybeleid van Facebook\x3c/a\x3e.\x3c/p\x3e\x3cp\x3eFacebook volgt veel aspecten van het gedrag van gebruikers, ook als je zelf geen Facebook-account hebt. Facebook slaat informatie hierover op in een grote set aan cookies, waaronder identificatie van ingelogde gebruikers.\x3c/p\x3e\x3cp\x3eDe Facebookcookies worden tot 2 jaar bewaard, waarbij een cookie die mogelijk gezet wordt door de pixel 90 dagen bewaard blijft.\x3c/p\x3e');
this.message+='\x3ch3\x3eCookies blokkeren of verwijderen\x3c/h3\x3e\x3cp\x3eJe kunt het plaatsen van cookies blokkeren en/of eerder geplaatste cookies verwijderen. De manier waarop verschilt per browser:\x3c/p\x3e\x3cdl class\x3d"meta dense"\x3e\x3cdt\x3eMicrosoft Internet Explorer\x3c/dt\x3e\x3cdd\x3e\x3ca href\x3d"http://windows.microsoft.com/nl-nl/internet-explorer/delete-manage-cookies"\x3eMeer informatie Microsoft\x3c/a\x3e\x3c/dd\x3e\x3cdt\x3eMozilla Firefox\x3c/dt\x3e\x3cdd\x3e\x3ca href\x3d"https://support.mozilla.org/nl/kb/cookies-in-en-uitschakelen-websites-voorkeuren"\x3eMeer informatie Mozilla\x3c/a\x3e\x3c/dd\x3e\x3cdt\x3eGoogle Chrome\x3c/dt\x3e\x3cdd\x3e\x3ca href\x3d"https://support.google.com/chrome/answer/95647?hl\x3dnl"\x3eMeer informatie Google Chrome\x3c/a\x3e\x3c/dd\x3e\x3cdt\x3eSafari\x3c/dt\x3e\x3cdd\x3e\x3ca href\x3d"https://support.apple.com/nl-nl/guide/safari/sfri11471/mac"\x3eMeer informatie Safari\x3c/a\x3e\x3c/dd\x3e\x3c/dl\x3e';
this.message+="\x3ch3\x3eWijzigingen\x3c/h3\x3e\x3cp\x3eWij behouden ons het recht voor deze cookieverklaring te wijzigen. Wij zullen je op passende wijze informeren over wezenlijke wijzigingen. Deze verklaring is voor het laatst gewijzigd op 23 september 2019.\x3c/p\x3e";this.message+="\x3c/div\x3e";this.message+='\x3cp class\x3d"buttons"\x3e\x3cbutton class\x3d"button primary ok"\x3eAkkoord\x3c/button\x3e\x3cbutton class\x3d"button quaternary notok"\x3eNiet akkoord\x3c/button\x3e\x3c/p\x3e'},setupCookie:function(){b.util.cookieExists(this.cookieName)?
"true"===b.util.rawCookie(this.cookieName)&&(this.renderCookiePreference(!0),this.loadTrackingScripts()):this.askApproval()},fillGAQueue:function(){var a=this.element.getAttribute("data-id").split(","),b=this.element.getAttribute("data-domain"),d=0;b||(b="auto");for(window._gaq=[["_setAccount",a[d].replace(" ","")],["_setDomainName",b],["_gat._anonymizeIp"],["_trackPageview"]];++d<a.length;){var e="t"+d;window._gaq.push([e+"._setAccount",a[d].replace(" ","")],[e+"._setDomainName",b],[e+"._gat._anonymizeIp"],
[e+"._trackPageview"])}},loadScript:function(a,b){var c=document,e=c.createElement("script");c=c.getElementsByTagName("script")[0];e.async=!0;e.src=a;b&&(e.onload=b);c.parentNode.insertBefore(e,c)},loadTrackingScripts:function(){this.element.getAttribute("data-id")&&(this.fillGAQueue(),this.loadScript("https://ssl.google-analytics.com/ga.js"));var a=this.element.getAttribute("data-adobe");a&&0<a.length&&/^\/\/assets.adobedtm.com\/[^"]*.js$/.test(a)&&this.loadScript(a)},useBar:function(){return document.querySelector('[data-noticemode\x3d"bar"]')},
askApproval:function(){var a=!this.useBar();this.window=b.ui.modalwindow.open(this.element,{size:"small",closeable:this.closeable,ignoreH1:this.ignoreH1,firstthing:!0,classname:"main-column",content:this.notification,title:"Gebruik van cookies op deze website",show_overlay:a,position:a?"float":!1});var c=this.window.element;if(!a){this.noticeTypeClass=this.useAdWords?"noticeActive longNotice":"noticeActive";b.util.addClass(this.window.element.parentElement,this.noticeTypeClass);document.body.querySelector(".cookieBar-filler")||
this.createFillerElements();var d=c.addEventListener("modalWindowClose",function(){c.removeEventListener("modalWindowClose",d);b.util.removeClass(c.parentElement,this.noticeTypeClass);b.util.removeElement(document.body.querySelector(".cookieBar-filler"))}.bind(this))}c.querySelector(".button.tertiary").addEventListener("click",this.showInfo.bind(this));c.querySelector(".button.primary.ok").addEventListener("click",this.setResponse.bind(this,!0));c.querySelector(".button.quaternary.notok").addEventListener("click",
this.setResponse.bind(this,!1))},setResponse:function(a){this.window.close();this.setCookie(a);this.renderCookiePreference(a);a&&this.loadTrackingScripts();this.clearBar()},setCookie:function(a){!1===a&&this.removeCookies();b.util.rawCookie(this.cookieName,a.toString(),{date:function(a){a.setFullYear(a.getFullYear()+1)}})},renderCookiePreference:function(a){a&&(a=document.body.querySelector(".biebwidget-content.widget-bnl-footer .nav"),null==a&&(a=this.element,a.classList.add("widget-bnl-footer"),
b.util.insertIntoAsLast(a,'\x3cdiv class\x3d"nav"\x3e\x3c/div\x3e'),a=document.body.querySelector(".biebwidget-content.widget-bnl-footer .nav")),b.util.insertIntoAsLast(a,this.changePreferencesMessage),(a=a.parentElement.querySelector(".button.cookie-permission"))&&a.addEventListener("click",this.revokePermission.bind(this)))},revokePermission:function(){this.setCookie(!1);var a=document.body.querySelector(".cookie-permission-container");null!=a&&b.util.removeElement(a);a=document.body.querySelector(".biebwidget-content.widget-bnl-footer .nav");
this.element.contains(a)&&this.element.removeChild(a);this.element.classList.contains("widget-bnl-footer")&&this.element.classList.remove("widget-bnl-footer")},removeCookies:function(){var a=this.cookiesWithPrefixes(),c=window.location.hostname;if(0<a.length)for(a.forEach(function(a){b.util.removeCookie(a,"/")});0<=c.indexOf(".");){a=this.cookiesWithPrefixes();if(0>=a.length)break;a.forEach(function(a){b.util.removeCookie(a,"/",c)});c=c.substring(c.indexOf(".")+1)}(new Image).src=this.revokeCookiesRequestUrl},
cookiesWithPrefixes:function(){var a=document.cookie.split(/; */),b=new RegExp("^("+this.revokeCookiePrefixes.join("|")+")");return a.map(function(a){return a.substring(0,a.indexOf("\x3d"))}).filter(function(a){return b.test(a)})},showInfo:function(a){a.stopPropagation();a.preventDefault();b.util.removeElement(document.body.querySelector(".modalwindow-container"));this.window=b.ui.modalwindow.open(this.element,{size:"small",closeable:this.closeable,firstthing:!0,classname:"main-column",content:this.notification,
title:"Gebruik van cookies op deze website"});this.window.setSize("large");this.window.setContent(this.message);this.clearBar();this.window.element.querySelector(".button.primary.ok").addEventListener("click",this.setResponse.bind(this,!0));this.window.element.querySelector(".button.quaternary.notok").addEventListener("click",this.setResponse.bind(this,!1))},clearBar:function(){b.util.removeClass(this.window.element,"bar");b.util.removeClass(this.window.element.parentElement,"noticeActive");var a=
document.body.querySelector(".cookieBar-filler");a&&b.util.removeElement(a)},createFillerElements:function(){b.util.insertBefore(document.body.querySelector(".bibliotheek-container"),'\x3cdiv class\x3d"cookieBar-filler"\x3e\x3cdiv class\x3d"cookie-header-text"\x3e\x3cdiv class\x3d"cookie-header"\x3e\x3c/div\x3e\x3cdiv class\x3d"cookie-text"\x3e\x3c/div\x3e\x3cdiv class\x3d"cookie-read-more"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cookie-buttons"\x3e\x3cdiv class\x3d"cookie-approve"\x3e\x3c/div\x3e\x3cdiv class\x3d"cookie-decline"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
document.body.querySelector(".cookieBar-filler \x3e .cookie-header-text \x3e .cookie-header").setAttribute("data-header","Gebruik van cookies op deze website");var a=document.body.querySelector(".cookieBar-filler"),c=this.window.element.querySelectorAll(".modalwindow-content \x3e p");a.querySelector(".cookie-header-text \x3e .cookie-text").setAttribute("data-text",c[0].textContent);a.querySelector(".cookie-header-text \x3e .cookie-read-more").setAttribute("data-readmore",c[1].textContent);a.querySelector(".cookie-buttons \x3e .cookie-approve").setAttribute("data-approve",
this.window.element.querySelector(".buttons button.ok").textContent);a.querySelector(".cookie-buttons \x3e .cookie-decline").setAttribute("data-decline",this.window.element.querySelector(".buttons button.notok").textContent)}})})(bw);(function(b){b.bnl.av=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){var a=this.element,c=b.util.rawCookie("avstate");c&&-1===c.indexOf("-out")&&b.util.matches(a,".loggedout")&&b.util.removeElement(a)}})})(bw);
(function(b){b.bnl.iam=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){var a=this.element.parentElement?this.element.parentElement:this.element;"1"===b.util.rawCookie("loginstate")?a.querySelectorAll(".loggedout").forEach(b.util.removeElement):a.querySelectorAll(".loggedin").forEach(b.util.removeElement)}})})(bw);
(function(b){b.bnl.highcontrast=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){this.cookieName="highContrast";this.highContrast=b.util.cookieExistsWithValue(this.cookieName,1);this.metanav=b.util.children(this.element,"ul.metanav")[0];this.labelNormal=this.element.getAttribute("data-contrastlabelnormal");this.labelHigh=this.element.getAttribute("data-contrastlabelhigh");var a='\x3cli\x3e\x3cbutton class\x3d"link togglenormalcontrast"'+(this.highContrast?"":" disabled")+
"\x3e"+b.util.escapeHTML(this.labelNormal)+'\x3c/button\x3e\x3cbutton class\x3d"link togglehighcontrast"'+(this.highContrast?" disabled":"")+"\x3e"+b.util.escapeHTML(this.labelHigh)+"\x3c/button\x3e\x3c/li\x3e",c=this.metanav.querySelector("a.speaker");c?b.util.insertBefore(c.parentElement,a):(c=b.util.children(this.metanav,"li.last"),c.length?b.util.insertBefore(c[0],a):b.util.insertIntoAsLast(this.metanav,a));this.toggleNormal=this.metanav.querySelector("button.togglenormalcontrast");this.toggleHigh=
this.metanav.querySelector("button.togglehighcontrast");this.toggleNormal.addEventListener("click",function(a){a.preventDefault();this.toggleContrast(!1)}.bind(this));this.toggleHigh.addEventListener("click",function(a){a.preventDefault();this.toggleContrast(!0)}.bind(this));this.sheetLink=document.querySelector("head link[data-contrast]");this.highContrast&&this.updateState()},updateState:function(){this.highContrast?(this.toggleHigh.setAttribute("disabled","disabled"),this.toggleNormal.removeAttribute("disabled"),
null!==this.sheetLink&&(this.sheetLink.setAttribute("rel","stylesheet"),this.sheetLink.removeAttribute("disabled"),this.sheetLink.removeAttribute("title")),b.util.addClass(document.documentElement,"contrast")):(this.toggleNormal.setAttribute("disabled","disabled"),this.toggleHigh.removeAttribute("disabled"),null!==this.sheetLink&&(this.sheetLink.setAttribute("rel","alternate stylesheet"),this.sheetLink.setAttribute("disabled","disabled"),this.sheetLink.setAttribute("title",this.labelHigh)),b.util.removeClass(document.documentElement,
"contrast"))},toggleContrast:function(a){this.highContrast=a;this.updateState();a?b.util.rawCookie(this.cookieName,1,{date:function(a){a.setFullYear(a.getFullYear()+1)}}):b.util.removeCookie(this.cookieName)}})})(bw);
(function(b){b.bnl.libraryfinder=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){this.query=this.element.querySelector("input#libraryfinder-zoekopdracht");this.emptyLabel=this.element.getAttribute("data-empty")||"Geen bibliotheek gevonden. Probeer een andere plaatsnaam of postcode.";this.signupLinkLabel=this.element.getAttribute("data-signuplink")||"Bekijk abonnementen";this.websiteLinkLabel=this.element.getAttribute("data-websitelink")||"Naar de website";this.button=
this.element.querySelector(".button");this.attachHandlers()},attachHandlers:function(){this.element.addEventListener("submit",function(a){b.util.getJSON(this.getEndpointUrl(),this.handleLocations.bind(this),function(){this.handleLocations(null)}.bind(this));a.preventDefault();this.removeContent();b.util.addClass(this.button,"loading")}.bind(this))},handleLocations:function(a){this.removeContent();if(a)var c=a.organizations;b.util.removeClass(this.button,"loading");if(!c||1>c.length)this.createMessage();
else{b.util.insertAfter(this.element,'\x3cul class\x3d"plain rich-list"\x3e\x3c/ul\x3e');a=this.element.nextElementSibling;for(var d=0;d<c.length;d++){var e="",f=this.websiteLinkLabel,g=c[d];g.urlSignUp&&0<g.urlSignUp.length?(e=g.urlSignUp,f=this.signupLinkLabel):g.urlWebsite&&0<g.urlWebsite.length&&(e=g.urlWebsite);this.createItem(a,g.organizationName,e,f,g.libraryMapPath)}}},createItem:function(a,c,d,e,f){var g="",k="",h="",l="";0<d.length&&(g='\x3ca href\x3d"'+b.util.escapeHTML(d)+'"\x3e',k="\x3c/a\x3e",
h=" more",l=' \x3cspan class\x3d"button secondary"\x3e'+b.util.escapeHTML(e)+"\x3c/span\x3e\n");c='\x3cli\x3e\n\x3cdiv class\x3d"content'+h+'"\x3e\n\x3cspan class\x3d"list-title"\x3e\n'+g+'\x3cimg src\x3d"'+b.util.escapeHTML(f)+'" alt\x3d"" class\x3d"viz"\x3e\n'+b.util.escapeHTML(c)+l+k+"\x3c/span\x3e\n\x3c/div\x3e\n\x3c/li\x3e\n";b.util.insertIntoAsLast(a,c)},createMessage:function(){b.util.insertAfter(this.element,'\x3cp class\x3d"message"\x3e'+b.util.escapeHTML(this.emptyLabel)+"\x3c/p\x3e")},
removeContent:function(){for(var a=this.element.nextElementSibling;a;)a.parentNode.removeChild(a),a=a.nextElementSibling},getEndpointUrl:function(){var a=document.location.pathname,b=a.indexOf("/");b=a.indexOf(".",b);-1<b&&(a=a.substring(0,b));return a=a+".libraryfinder.do?location\x3d"+encodeURIComponent(this.query.value)}})})(bw);
(function(b){b.bnl.delpher=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){var a=this.createAjaxUrl();b.util.addClass(this.element,"hidden");a?b.util.getJSON(a,this.handleStatusResponse.bind(this),this.handleStatusError.bind(this)):b.util.removeElement(this.element)},handleStatusResponse:function(a){if(a.count){var c=this.element,d=c.getAttribute("data-nbcitem-prefix"),e=c.getAttribute("data-nbcitem-newspaper"),f=c.getAttribute("data-nbcitem-found"),g=c.getAttribute("data-nbcitem-postfix");
d="\x3cspan\x3e"+b.util.escapeHTML(d)+"\x3c/span\x3e \x3cspan\x3e"+b.util.escapeHTML(e)+"\x3c/span\x3e \x3cspan\x3e"+b.util.escapeHTML(f)+"\x3c/span\x3e "+b.util.escapeHTML(g);d=d.replace(/#/g,a.count);b.util.insertBefore(c.querySelector("a"),"\x3cp\x3e"+d+"\x3c/p\x3e");b.util.removeClass(c,"hidden")}else b.util.removeElement(this.element)},createAjaxUrl:function(){var a=this.element.getAttribute("data-nbcitem-title"),b=this.element.getAttribute("data-nbcitem-authors")||"";if(a&&b){b=b.split("|");
for(var d=[],e=0;e<b.length;e++)d.push("\x26author\x3d"+encodeURIComponent(b[e]));a=".jsruCount.do?title\x3d"+encodeURIComponent(a)+d.join("");return window.location.pathname.replace(/\.[\w\-]+\.html.*$/,a)}return null},handleStatusError:function(){this.element.querySelectorAll("p").forEach(b.util.removeElement)}})})(bw);
(function(b){b.bnl.profilepassword=b.ui.passwordstrength.extend({init:function(a){this.element=a;this.setup()},setup:function(){this._super();this.userInput="e-book epub e-reader fictie collectie literatuur biografie waargebeurd klassiek bundel historisch poezie spiritualiteit religie psychologie presentatie".split(" ");for(var a=b.util.parent(this.element,".main-column").querySelectorAll(".group"),c=0;c<a.length;c++){var d=a[c];d.querySelectorAll("input[type\x3dtext]").forEach(function(a){this.addInput(a.value)}.bind(this));
d.querySelectorAll("dd").forEach(function(a){this.addInput(a.textContent)}.bind(this))}},addInput:function(a){if(a){a=a.split(/\s/);for(var b,d=a.length,e=0;e<d;e++)b=a[e],0<b.length&&this.userInput.push(b)}}})})(bw);
(function(b,a,c){b.bnl.getitlibraryfinder=b.util.Class.extend({init:function(a){this.element=a;this.setup();this.loadSavedLibrary();this.attachHandlers()},setup:function(){this.postcodeInput=this.element.querySelector("input#get-it-library-finder-input");this.form=this.element.querySelector("form");this.originalElement=b.util.firstChild(this.element,"div.get-it-library-finder");this.embedded=JSON.parse(this.element.getAttribute("data-embedded"));this.showClusteredGetIt=JSON.parse(this.element.getAttribute("data-show-clustered-get-it"));
this.ppns=this.element.getAttribute("data-ppns").split(",");this.labels={descriptionText:this.element.getAttribute("data-description-text"),changeLibraryButtonText:this.element.getAttribute("data-change-library-button-text"),getItButtonText:this.element.getAttribute("data-get-it-button-text"),getItVersionButtonText:this.element.getAttribute("data-get-it-version-button-text"),rememberLibraryLabel:this.element.getAttribute("data-remember-library-label"),errors:{genericErrorMessage:this.element.getAttribute("data-generic-error-message"),
notFoundErrorMessage:this.element.getAttribute("data-not-found-error-message"),validationErrorMessage:this.element.getAttribute("data-validation-error-message")}};this.state={error:!1,saveLibrary:!1}},attachHandlers:function(){if(this.form){this.form.addEventListener("submit",this.onFormSubmit.bind(this));var a=this.element.querySelector(".change-library");a&&a.addEventListener("click",this.onChangeLibraryClick.bind(this))}},fetchLibrary:function(a){a=this.getEndpointUrl(a);b.util.getJSON(a,this.onJsonResponse.bind(this),
this.onJsonFailure.bind(this))},loadSavedLibrary:function(){if(this.form){var a=b.util.encodedCookie("get-it-libraryfinder-found-library");if(a){a=JSON.parse(a);a.fromCache=!0;a.library.url=this.createRedirectUrl(a.library.isil,this.ppns.join(","));this.isil=a.library.isil;var c=b.util.firstChild(this.element,"div.get-it-library-finder");b.util.removeElement(c);this.element.appendChild(this.generateLibraryFoundContainerHtml(a));this.addVersionButtons(a.library.isil)}else this.placeRememberLibraryButtonHtml()}},
placeRememberLibraryButtonHtml:function(){var a=this.element.querySelector(".form-element__postalcode-libraryfinder"),c=this.generateRememberLibraryButtonHtml();b.util.insertAfter(a,c)},createRedirectUrl:function(c,e){var d=a.location.pathname.split("."),g=d[0];d=d[1];e=e||d;g+=".checkavailabilitygetitversions.html";d=b.util.replaceOrAddToQueryString("","identifier",encodeURIComponent(d));d=b.util.replaceOrAddToQueryString(d,"versionidentifier",encodeURIComponent(e));d=b.util.replaceOrAddToQueryString(d,
"isil",encodeURIComponent(c));return g+d},saveFoundLibrary:function(a){a={library:{libraryName:a.library.libraryName,isil:a.library.isil}};var c=this.determinePathForCookie();b.util.encodedCookie("get-it-libraryfinder-found-library",JSON.stringify(a),{date:function(a){a.setFullYear(a.getFullYear()+1)},path:c})},onJsonResponse:function(a){var c=this.determineErrorMessage(a);c?(this.state.error=!0,b.util.removeChildren(this.element,"div.message.critical.alert"),b.util.insertIntoAsFirst(this.element,
this.generateErrorHtml(c)),this.postcodeInput.value=""):(b.util.removeChildren(this.element),this.element.appendChild(this.generateLibraryFoundContainerHtml(a)),this.addVersionButtons(a.library.isil),this.state.saveLibrary&&this.saveFoundLibrary(a))},onJsonFailure:function(){var a=this.labels.errors.genericErrorMessage;this.state.error=!0;b.util.insertIntoAsFirst(this.element,this.generateErrorHtml(a));this.postcodeInput.value=""},onChangeLibraryClick:function(a){a.preventDefault();b.util.removeChildren(this.element);
this.element.appendChild(this.originalElement);this.form.querySelector("[data-row-type\x3d'remember-library']")||this.placeRememberLibraryButtonHtml();this.removeVersionButtons();a=this.determinePathForCookie();b.util.removeCookie("get-it-libraryfinder-found-library",a);this.isil=null},onFormSubmit:function(a){a.preventDefault();a=this.determinePathForCookie();b.util.removeCookie("get-it-libraryfinder-found-library",a);this.isil=null;a=this.postcodeInput.value;var c=this.form.elements["get-it-library-finder-checkbox"];
c&&(this.state.saveLibrary=c.checked);this.fetchLibrary(a)},determineErrorMessage:function(a){return a.status&&1===a.status.errorCode?this.labels.errors.notFoundErrorMessage:a.status&&1<=a.status.errorCode?this.labels.errors.genericErrorMessage:a.validationError?this.labels.errors.validationErrorMessage:""},getEndpointUrl:function(c){var d=a.location.pathname,f=d.indexOf("/");f=d.indexOf(".",f);-1<f&&(d=d.substring(0,f));d+=".getitlibraryfinder.do";f=b.util.replaceOrAddToQueryString("","ppns",this.ppns.join(","));
c?f=b.util.replaceOrAddToQueryString(f,"postcode",c):this.isil&&(f=b.util.replaceOrAddToQueryString(f,"isil",this.isil));return d+f},addVersionButtons:function(a){this.getVersions().forEach(function(b){this.addVersionButton(b,a)}.bind(this))},addVersionButton:function(a,e){var d=b.util.firstChild(a,"div");a=b.util.firstChild(d,".get-it");if(!a){a=c.createElement("div");b.util.addClass(a,"get-it");var g=b.util.firstChild(d,"dl.meta");g?b.util.insertBefore(g,a):b.util.insertIntoAsLast(d,a)}d=d.getAttribute("data-version-identifier");
e=this.createRedirectUrl(e,d);e=this.generateGetItVersionButtonHtml(e);b.util.insertIntoAsLast(a,e)},removeVersionButtons:function(){this.getVersions().forEach(function(a){a=b.util.firstChild(a,"div");a=b.util.firstChild(a,"div.get-it");b.util.removeChildren(a)})},getVersions:function(){if(this.embedded)var a=b.util.firstSibling(this.element,"ul");else{var c=b.util.firstSibling(this.element,"div.versions");c&&(a=b.util.firstChild(c,"ul"))}return a?b.util.children(a,"li"):[]},determinePathForCookie:function(){var b=
a.location.pathname.split(".")[0];return b.substring(0,b.lastIndexOf("/")+1)},generateErrorHtml:function(a){var d=c.createElement("div");b.util.addClass(d,"message");b.util.addClass(d,"alert");b.util.addClass(d,"critical");d.id="bibliotheek-vinder";var f=c.createElement("p");f.textContent=a;d.appendChild(f);return d},generateRememberLibraryButtonHtml:function(){var a=c.createElement("span");b.util.addClass(a,"form-element form-element__get-it-checkbox");a.dataset.rowType="remember-library";var e=
c.createElement("input");e.id="get-it-library-finder-checkbox";e.type="checkbox";a.appendChild(e);e=c.createElement("label");e.textContent=this.labels.rememberLibraryLabel;e.htmlFor="get-it-library-finder-checkbox";a.appendChild(e);return a},generateLibraryFoundContainerHtml:function(d){var e=c.createElement("div");b.util.addClass(e,"get-it");b.util.addClass(e,"bordered");b.util.addClass(e,"get-it-library-finder");this.state.error||(e.id="bibliotheek-vinder");var f=c.createElement("div");b.util.addClass(f,
"get-it-found-container");e.appendChild(f);if(!this.embedded){var g=c.createElement("p");g.textContent=this.labels.descriptionText;f.appendChild(g)}g=c.createElement("div");b.util.addClass(g,"description");f.appendChild(g);f=c.createElement("p");b.util.addClass(f,"get-it-found-library-name");f.textContent=d.library.libraryName;g.appendChild(f);f=c.createElement("p");g.appendChild(f);g=c.createElement("a");g.href=a.location.protocol+"//"+a.location.host+a.location.pathname+"#bibliotheek-vinder";g.textContent=
this.labels.changeLibraryButtonText;g.addEventListener("click",this.onChangeLibraryClick.bind(this));f.appendChild(g);this.showClusteredGetIt&&!this.embedded&&(0<d.library.url.length||d.fromCache)&&(g=c.createElement("p"),b.util.addClass(g,"get-it-float-right"),this.embedded||b.util.addClass(g,"include-padding"),e.appendChild(g),f=c.createElement("a"),f.href=d.library.url,f.textContent=this.labels.getItButtonText,b.util.addClass(f,"button"),b.util.addClass(f,"primary"),g.appendChild(f));return e},
generateGetItVersionButtonHtml:function(a){var d=c.createElement("p");b.util.addClass(d,"action");var f=c.createElement("a");b.util.addClass(f,"secondary");b.util.addClass(f,"button");f.href=a;f.textContent=this.labels.getItVersionButtonText;d.appendChild(f);return d}})})(bw,window,document);
(function(b){b.ui.previewimagefix=b.util.Class.extend({init:function(a){this.element=a;this.setup()},setup:function(){this.previewImageDT=b.util.firstSibling(this.element,"dt.preview-image-label");var a=b.util.firstChild(this.element,"div.preview-image-container");this.previewImageElement=b.util.firstChild(a,"img.preview-image");this.attachHandler()},attachHandler:function(){this.previewImageElement.complete?0===this.previewImageElement.naturalWidth&&0===this.previewImageElement.naturalHeight&&this.fix():
this.previewImageElement.addEventListener("error",function(){this.fix()}.bind(this))},fix:function(){this.element.remove();this.previewImageDT.remove()}})})(bw);